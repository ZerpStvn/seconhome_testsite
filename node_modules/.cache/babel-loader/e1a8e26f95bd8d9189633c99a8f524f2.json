{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\src\\\\app\\\\pages\\\\home-owner\\\\profile\\\\edit-lead-contact.js\";\n\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Row, Col, Input, Card, Skeleton, Breadcrumb, PageHeader } from \"antd\";\nimport { compose } from \"redux\";\nimport { getLeadContactById as _getLeadContactById, updateLeadContact as _updateLeadContact } from \"../../../redux/actions/lead-contact-actions\";\nimport LeadContactForm from \"./lead-contact-form\";\nimport { humanize } from \"../../../helpers/string-helper\";\n\nvar EditLeadContact = function EditLeadContact(_ref) {\n  var editLeadContact = _ref.editLeadContact,\n      editLeadContactLoading = _ref.editLeadContactLoading,\n      history = _ref.history;\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    if (!editLeadContact) {\n      dispatch(_getLeadContactById(id, {\n        'fields': [\"*\", \"home.*,homes.*\"]\n      }));\n    }\n\n    return function () {\n      console.log(\"Edit LeadContact Unmounting\");\n    };\n  }, [editLeadContactLoading]);\n\n  var handleSave = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var newHome;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(values);\n              newHome = [];\n              values.homes.forEach(function (element) {\n                newHome.push({\n                  homes_id: element\n                });\n              });\n              values.homes = newHome;\n              dispatch(_updateLeadContact(id, values)).then(function () {\n                history.push(\"/owner/profile\");\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSave(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/Profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Profile\")), editLeadContact && /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/lead-contacts/\".concat(id),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"\".concat(humanize(editLeadContact.first_name))))), /*#__PURE__*/React.createElement(PageHeader, {\n    className: \"site-page-header\",\n    title: editLeadContact && \"\".concat(humanize(editLeadContact.first_name)),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Skeleton, {\n    loading: editLeadContactLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, editLeadContact && /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 16,\n    lg: 16,\n    xl: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, editLeadContact && /*#__PURE__*/React.createElement(LeadContactForm, {\n    initialValues: editLeadContact,\n    handleSave: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  })))));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    editLeadContact: state.leadContact.editLeadContact,\n    editLeadContactLoading: state.leadContact.editLeadContactLoading\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getLeadContactById: function getLeadContactById() {\n      return dispatch(_getLeadContactById());\n    },\n    updateLeadContact: function updateLeadContact() {\n      return dispatch(_updateLeadContact());\n    }\n  };\n}\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(EditLeadContact);","map":{"version":3,"sources":["C:/xampp/htdocs/wordpress/dashboard/src/app/pages/home-owner/profile/edit-lead-contact.js"],"names":["React","useEffect","connect","useDispatch","Link","useParams","Row","Col","Input","Card","Skeleton","Breadcrumb","PageHeader","compose","getLeadContactById","updateLeadContact","LeadContactForm","humanize","EditLeadContact","editLeadContact","editLeadContactLoading","history","id","dispatch","console","log","handleSave","values","newHome","homes","forEach","element","push","homes_id","then","first_name","mapStateToProps","state","leadContact","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { Row, Col, Input, Card, Skeleton, Breadcrumb, PageHeader } from \"antd\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getLeadContactById,\r\n  updateLeadContact,\r\n} from \"../../../redux/actions/lead-contact-actions\";\r\nimport LeadContactForm from \"./lead-contact-form\";\r\nimport { humanize } from \"../../../helpers/string-helper\";\r\n\r\nconst EditLeadContact = ({\r\n  editLeadContact,\r\n  editLeadContactLoading,\r\n  history,\r\n}) => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (!editLeadContact) {\r\n      dispatch(getLeadContactById(id, { 'fields': [\"*\", \"home.*,homes.*\"], }));\r\n    }\r\n\r\n    return () => {\r\n      console.log(\"Edit LeadContact Unmounting\");\r\n    };\r\n  }, [editLeadContactLoading]);\r\n\r\n  const handleSave = async (values) => {\r\n    console.log(values);\r\n    let newHome = [];\r\n    values.homes.forEach(element => {\r\n      newHome.push({ homes_id: element })\r\n    });\r\n    values.homes = newHome\r\n    dispatch(updateLeadContact(id, values)).then(() => {\r\n      history.push(\"/owner/profile\");\r\n    });\r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/owner\">Home</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/owner/Profile\">Profile</Link>\r\n        </Breadcrumb.Item>\r\n\r\n        {editLeadContact && (\r\n          <Breadcrumb.Item>\r\n            <Link\r\n              to={`/owner/lead-contacts/${id}`}\r\n            >{`${humanize(editLeadContact.first_name)}`}</Link>\r\n          </Breadcrumb.Item>\r\n        )}\r\n      </Breadcrumb>\r\n      <PageHeader\r\n        className=\"site-page-header\"\r\n        title={editLeadContact && `${humanize(editLeadContact.first_name)}`}\r\n      />\r\n      <Skeleton loading={editLeadContactLoading}>\r\n        {editLeadContact && (\r\n          <Row gutter={30}>\r\n            <Col xs={24} sm={24} md={16} lg={16} xl={16}>\r\n              {editLeadContact && (\r\n                <LeadContactForm\r\n                  initialValues={editLeadContact}\r\n                  handleSave={handleSave}\r\n                />\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      </Skeleton>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    editLeadContact: state.leadContact.editLeadContact,\r\n    editLeadContactLoading: state.leadContact.editLeadContactLoading,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    getLeadContactById: () => dispatch(getLeadContactById()),\r\n    updateLeadContact: () => dispatch(updateLeadContact()),\r\n  };\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(\r\n  EditLeadContact\r\n);\r\n"]},"metadata":{},"sourceType":"module"}