{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectDestructuringEmpty from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectDestructuringEmpty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\src\\\\app\\\\components\\\\layout\\\\sidebar\\\\sidebar.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Menu } from \"antd\";\nimport { Avatar } from \"antd\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport clientOptions from \"./client-options\";\nimport adminOptions from \"./admin-options\";\nimport UserService from \"../../../services/user-service\";\nimport homeOwneroptions from \"./dashboard-options\";\nimport Config, { MainUrl } from \"../../../config\";\nimport { ReactComponent as Logo } from \"@svgr/webpack?-prettier,-svgo!../../../assets/images/second-homes-logo.svg\";\nimport { PhoneOutlined, MailOutlined, FormOutlined, BellOutlined } from \"@ant-design/icons\";\nimport { useDispatch } from \"react-redux\";\nimport { loadCurrentLoggedInUser } from \"./../../../redux/actions/user-actions\";\nvar SubMenu = Menu.SubMenu;\n\nvar Sidebar = function Sidebar(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var dispatch = useDispatch();\n\n  var _useState = useState(window.location.pathname),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentURI = _useState2[0],\n      setCurrentURI = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      menuActiveKey = _useState4[0],\n      setMenuActiveKey = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      menuActiveKeySetUp = _useState6[0],\n      setMenuActiveKeySetUp = _useState6[1];\n\n  var loggedInUser = UserService.getLoggedInUser();\n  var userRole = loggedInUser ? Config.userRoleTypes[loggedInUser.role].name : '';\n  var sideBarOptions = [];\n  var currentLoggedInUser = loggedInUser;\n\n  switch (userRole) {\n    case \"admin\":\n      var admin_user = UserService.getAdminUser();\n      var adminUserRole = admin_user ? Config.userRoleTypes[admin_user.role].name : '';\n      currentLoggedInUser = admin_user ? admin_user.client.length ? admin_user.client[0] : admin_user : loggedInUser;\n      sideBarOptions = false;\n\n      if (adminUserRole == 'client') {\n        sideBarOptions = adminOptions.adminClientOptions;\n      }\n\n      if (adminUserRole == 'home-owner') {\n        sideBarOptions = adminOptions.adminPartnerOptions;\n      }\n\n      break;\n\n    case \"home-owner\":\n      sideBarOptions = homeOwneroptions.dashBoardOptions;\n      break;\n\n    case \"client\":\n      sideBarOptions = clientOptions.clientOptions;\n      break;\n\n    default:\n      break;\n  }\n\n  useEffect(function () {\n    return function () {\n      console.log(\"SideBar Unmounting\");\n    };\n  }, []);\n\n  if (currentLoggedInUser) {\n    currentLoggedInUser.avatar = \"\".concat(currentLoggedInUser.first_name.charAt(0).toUpperCase()).concat(currentLoggedInUser.last_name && currentLoggedInUser.last_name.charAt(0).toUpperCase());\n  }\n\n  var handleClick = function handleClick(values) {\n    setCurrentURI(values.key);\n  };\n\n  function getMenuItem(singleOption) {\n    var _this2 = this;\n\n    var key = singleOption.key,\n        label = singleOption.label,\n        leftIcon = singleOption.leftIcon,\n        children = singleOption.children,\n        activeMenuKey = singleOption.activeMenuKey;\n\n    if (children) {\n      return /*#__PURE__*/React.createElement(SubMenu, {\n        key: activeMenuKey,\n        title: /*#__PURE__*/React.createElement(\"span\", {\n          className: \"isoMenuHolder\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }\n        }, leftIcon, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"nav-text\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }\n        }, label)),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }\n      }, children.map(function (child) {\n        if (child.key === window.location.pathname && !menuActiveKeySetUp) {\n          setMenuActiveKey(activeMenuKey);\n          setMenuActiveKeySetUp(true);\n        }\n\n        return /*#__PURE__*/React.createElement(Menu.Item, {\n          key: child.key,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: child.key,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }\n        }, child.leftIcon, child.label, child.alertsCount));\n      }));\n    } else {\n      return /*#__PURE__*/React.createElement(Menu.Item, {\n        key: key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"\".concat(key),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"isoMenuHolder\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      }, leftIcon, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"nav-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      }, label))));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-menu\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-menu-items\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, currentLoggedInUser ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"doctor-avtar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 15\n    }\n  }, currentLoggedInUser && currentLoggedInUser.avatar ? currentLoggedInUser.avatar : \"\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"doctor-detail\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"name-icon\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, \"\".concat(currentLoggedInUser.first_name, \" \").concat(currentLoggedInUser.last_name)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, currentLoggedInUser.email)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-actions\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(PhoneOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(MailOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FormOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(BellOutlined, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 23\n    }\n  }))))) : \"\", /*#__PURE__*/React.createElement(Menu, {\n    theme: \"light\",\n    mode: \"inline\",\n    onClick: handleClick // defaultSelectedKeys=\"/\"\n    ,\n    defaultOpenKeys: menuActiveKey // selectedKeys={currentURI}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, sideBarOptions && Object.keys(sideBarOptions).length > 0 && sideBarOptions.map(function (singleOption) {\n    return getMenuItem(singleOption);\n  })))));\n};\n\nfunction mapStateToProps(state) {}\n\nfunction mapDispatchToProps(dispatch) {}\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(Sidebar);","map":{"version":3,"sources":["C:/Users/SFelizardo/Desktop/Projects/secondhome/second-home-referrals/src/app/components/layout/sidebar/sidebar.js"],"names":["React","useState","useEffect","Link","Menu","Avatar","compose","connect","clientOptions","adminOptions","UserService","homeOwneroptions","Config","MainUrl","PhoneOutlined","MailOutlined","FormOutlined","BellOutlined","useDispatch","loadCurrentLoggedInUser","SubMenu","Sidebar","dispatch","window","location","pathname","currentURI","setCurrentURI","menuActiveKey","setMenuActiveKey","menuActiveKeySetUp","setMenuActiveKeySetUp","loggedInUser","getLoggedInUser","userRole","userRoleTypes","role","name","sideBarOptions","currentLoggedInUser","admin_user","getAdminUser","adminUserRole","client","length","adminClientOptions","adminPartnerOptions","dashBoardOptions","console","log","avatar","first_name","charAt","toUpperCase","last_name","handleClick","values","key","getMenuItem","singleOption","label","leftIcon","children","activeMenuKey","map","child","alertsCount","email","Object","keys","mapStateToProps","state","mapDispatchToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,MAAT,QAAuB,MAAvB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;AACA,OAAOC,MAAP,IAAiBC,OAAjB,QAAgC,iBAAhC;;AAGA,SACEC,aADF,EACiBC,YADjB,EAEEC,YAFF,EAEgBC,YAFhB,QAGO,mBAHP;AAIA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,uBAAT,QAAwC,uCAAxC;IACQC,O,GAAYhB,I,CAAZgB,O;;AAER,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAAS;AAAA;;AACvB,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;;AADuB,kBAEajB,QAAQ,CAACsB,MAAM,CAACC,QAAP,CAAgBC,QAAjB,CAFrB;AAAA;AAAA,MAEhBC,UAFgB;AAAA,MAEJC,aAFI;;AAAA,mBAGmB1B,QAAQ,CAAC,EAAD,CAH3B;AAAA;AAAA,MAGhB2B,aAHgB;AAAA,MAGDC,gBAHC;;AAAA,mBAI6B5B,QAAQ,CAAC,KAAD,CAJrC;AAAA;AAAA,MAIhB6B,kBAJgB;AAAA,MAIIC,qBAJJ;;AAKvB,MAAMC,YAAY,GAAGtB,WAAW,CAACuB,eAAZ,EAArB;AACA,MAAMC,QAAQ,GAAGF,YAAY,GAAGpB,MAAM,CAACuB,aAAP,CAAqBH,YAAY,CAACI,IAAlC,EAAwCC,IAA3C,GAAkD,EAA/E;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,mBAAmB,GAAGP,YAA1B;;AACA,UAAQE,QAAR;AACE,SAAK,OAAL;AACE,UAAMM,UAAU,GAAG9B,WAAW,CAAC+B,YAAZ,EAAnB;AACA,UAAMC,aAAa,GAAGF,UAAU,GAAG5B,MAAM,CAACuB,aAAP,CAAqBK,UAAU,CAACJ,IAAhC,EAAsCC,IAAzC,GAAgD,EAAhF;AACAE,MAAAA,mBAAmB,GAAGC,UAAU,GAAIA,UAAU,CAACG,MAAX,CAAkBC,MAAlB,GAA2BJ,UAAU,CAACG,MAAX,CAAkB,CAAlB,CAA3B,GAAkDH,UAAtD,GAAoER,YAApG;AACAM,MAAAA,cAAc,GAAG,KAAjB;;AACA,UAAII,aAAa,IAAI,QAArB,EAA+B;AAC7BJ,QAAAA,cAAc,GAAG7B,YAAY,CAACoC,kBAA9B;AACD;;AACD,UAAIH,aAAa,IAAI,YAArB,EAAmC;AACjCJ,QAAAA,cAAc,GAAG7B,YAAY,CAACqC,mBAA9B;AACD;;AAED;;AACF,SAAK,YAAL;AACER,MAAAA,cAAc,GAAG3B,gBAAgB,CAACoC,gBAAlC;AACA;;AACF,SAAK,QAAL;AACET,MAAAA,cAAc,GAAG9B,aAAa,CAACA,aAA/B;AACA;;AAEF;AACE;AAtBJ;;AAwBAN,EAAAA,SAAS,CAAC,YAAM;AAEd,WAAO,YAAM;AACX8C,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD,KAFD;AAGD,GALQ,EAKN,EALM,CAAT;;AAOA,MAAIV,mBAAJ,EAAyB;AACvBA,IAAAA,mBAAmB,CAACW,MAApB,aAAgCX,mBAAmB,CAACY,UAApB,CAA+BC,MAA/B,CAAsC,CAAtC,EAAyCC,WAAzC,EAAhC,SAAyFd,mBAAmB,CAACe,SAApB,IAAiCf,mBAAmB,CAACe,SAApB,CAA8BF,MAA9B,CAAqC,CAArC,EAAwCC,WAAxC,EAA1H;AACD;;AAED,MAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,MAAD,EAAY;AAC9B7B,IAAAA,aAAa,CAAC6B,MAAM,CAACC,GAAR,CAAb;AACD,GAFD;;AAIA,WAASC,WAAT,CAAqBC,YAArB,EAAmC;AAAA;;AAAA,QACzBF,GADyB,GACyBE,YADzB,CACzBF,GADyB;AAAA,QACpBG,KADoB,GACyBD,YADzB,CACpBC,KADoB;AAAA,QACbC,QADa,GACyBF,YADzB,CACbE,QADa;AAAA,QACHC,QADG,GACyBH,YADzB,CACHG,QADG;AAAA,QACOC,aADP,GACyBJ,YADzB,CACOI,aADP;;AAEjC,QAAID,QAAJ,EAAc;AACZ,0BACE,oBAAC,OAAD;AACE,QAAA,GAAG,EAAEC,aADP;AAEE,QAAA,KAAK,eACH;AAAM,UAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGF,QADH,eAEE;AAAM,UAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA4BD,KAA5B,CAFF,CAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASGE,QAAQ,CAACE,GAAT,CAAa,UAACC,KAAD,EAAW;AACvB,YAAIA,KAAK,CAACR,GAAN,KAAclC,MAAM,CAACC,QAAP,CAAgBC,QAA9B,IAA0C,CAACK,kBAA/C,EAAmE;AACjED,UAAAA,gBAAgB,CAACkC,aAAD,CAAhB;AACAhC,UAAAA,qBAAqB,CAAC,IAAD,CAArB;AACD;;AACD,4BACE,oBAAC,IAAD,CAAM,IAAN;AAAW,UAAA,GAAG,EAAEkC,KAAK,CAACR,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACE,oBAAC,IAAD;AAAM,UAAA,EAAE,EAAEQ,KAAK,CAACR,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGQ,KAAK,CAACJ,QADT,EAEGI,KAAK,CAACL,KAFT,EAGGK,KAAK,CAACC,WAHT,CADF,CADF;AASD,OAdA,CATH,CADF;AA2BD,KA5BD,MA4BO;AACL,0BACE,oBAAC,IAAD,CAAM,IAAN;AAAW,QAAA,GAAG,EAAET,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,EAAE,YAAKA,GAAL,CAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGI,QADH,eAEE;AAAM,QAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4BD,KAA5B,CAFF,CADF,CADF,CADF;AAUD;AACF;;AAED,sBACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGrB,mBAAmB,gBAClB;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,mBAAmB,IAAIA,mBAAmB,CAACW,MAA3C,GACGX,mBAAmB,CAACW,MADvB,GAEG,EAHN,CADF,eAME;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACMX,mBAAmB,CAACY,UAD1B,cACwCZ,mBAAmB,CAACe,SAD5D,EADF,eAIE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwBf,mBAAmB,CAAC4B,KAA5C,CAJF,CANF,eAYE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CAHF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAJ,CALF,CADF,CAZF,CADkB,GAwBlB,EAzBJ,eA2BE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAC,OADR;AAEE,IAAA,IAAI,EAAC,QAFP;AAGE,IAAA,OAAO,EAAEZ,WAHX,CAIE;AAJF;AAKE,IAAA,eAAe,EAAE3B,aALnB,CAMA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQGU,cAAc,IACb8B,MAAM,CAACC,IAAP,CAAY/B,cAAZ,EAA4BM,MAA5B,GAAqC,CADtC,IAECN,cAAc,CAAC0B,GAAf,CAAmB,UAACL,YAAD;AAAA,WAAkBD,WAAW,CAACC,YAAD,CAA7B;AAAA,GAAnB,CAVJ,CA3BF,CAJF,CADF,CADF;AAiDD,CA7ID;;AA8IA,SAASW,eAAT,CAAyBC,KAAzB,EAAgC,CAE/B;;AAED,SAASC,kBAAT,CAA4BlD,QAA5B,EAAsC,CAErC;;AACD,eAAehB,OAAO,CAACC,OAAO,CAAC+D,eAAD,EAAkBE,kBAAlB,CAAR,CAAP,CAAsDnD,OAAtD,CAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Menu } from \"antd\";\r\nimport { Avatar } from \"antd\";\r\nimport { compose } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\nimport clientOptions from \"./client-options\";\r\nimport adminOptions from \"./admin-options\";\r\nimport UserService from \"../../../services/user-service\";\r\nimport homeOwneroptions from \"./dashboard-options\";\r\nimport Config, { MainUrl } from \"../../../config\"\r\n\r\nimport { ReactComponent as Logo } from \"../../../assets/images/second-homes-logo.svg\";\r\nimport {\r\n  PhoneOutlined, MailOutlined,\r\n  FormOutlined, BellOutlined\r\n} from \"@ant-design/icons\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { loadCurrentLoggedInUser } from \"./../../../redux/actions/user-actions\";\r\nconst { SubMenu } = Menu;\r\n\r\nconst Sidebar = ({ }) => {\r\n  const dispatch = useDispatch();\r\n  const [currentURI, setCurrentURI] = useState(window.location.pathname);\r\n  const [menuActiveKey, setMenuActiveKey] = useState(\"\");\r\n  const [menuActiveKeySetUp, setMenuActiveKeySetUp] = useState(false);\r\n  const loggedInUser = UserService.getLoggedInUser();\r\n  const userRole = loggedInUser ? Config.userRoleTypes[loggedInUser.role].name : '';\r\n  var sideBarOptions = [];\r\n  var currentLoggedInUser = loggedInUser;\r\n  switch (userRole) {\r\n    case \"admin\":\r\n      const admin_user = UserService.getAdminUser();\r\n      const adminUserRole = admin_user ? Config.userRoleTypes[admin_user.role].name : '';\r\n      currentLoggedInUser = admin_user ? (admin_user.client.length ? admin_user.client[0] : admin_user) : loggedInUser;\r\n      sideBarOptions = false;\r\n      if (adminUserRole == 'client') {\r\n        sideBarOptions = adminOptions.adminClientOptions;\r\n      }\r\n      if (adminUserRole == 'home-owner') {\r\n        sideBarOptions = adminOptions.adminPartnerOptions;\r\n      }\r\n\r\n      break;\r\n    case \"home-owner\":\r\n      sideBarOptions = homeOwneroptions.dashBoardOptions;\r\n      break;\r\n    case \"client\":\r\n      sideBarOptions = clientOptions.clientOptions;\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n  useEffect(() => {\r\n\r\n    return () => {\r\n      console.log(\"SideBar Unmounting\");\r\n    };\r\n  }, []);\r\n\r\n  if (currentLoggedInUser) {\r\n    currentLoggedInUser.avatar = `${currentLoggedInUser.first_name.charAt(0).toUpperCase()}${currentLoggedInUser.last_name && currentLoggedInUser.last_name.charAt(0).toUpperCase()}`\r\n  }\r\n\r\n  const handleClick = (values) => {\r\n    setCurrentURI(values.key);\r\n  };\r\n\r\n  function getMenuItem(singleOption) {\r\n    const { key, label, leftIcon, children, activeMenuKey } = singleOption;\r\n    if (children) {\r\n      return (\r\n        <SubMenu\r\n          key={activeMenuKey}\r\n          title={\r\n            <span className=\"isoMenuHolder\">\r\n              {leftIcon}\r\n              <span className=\"nav-text\">{label}</span>\r\n            </span>\r\n          }\r\n        >\r\n          {children.map((child) => {\r\n            if (child.key === window.location.pathname && !menuActiveKeySetUp) {\r\n              setMenuActiveKey(activeMenuKey)\r\n              setMenuActiveKeySetUp(true)\r\n            }\r\n            return (\r\n              <Menu.Item key={child.key}>\r\n                <Link to={child.key}>\r\n                  {child.leftIcon}\r\n                  {child.label}\r\n                  {child.alertsCount}\r\n                </Link>\r\n              </Menu.Item>\r\n            );\r\n          })}\r\n        </SubMenu>\r\n      );\r\n    } else {\r\n      return (\r\n        <Menu.Item key={key} >\r\n          <Link to={`${key}`}>\r\n            <span className=\"isoMenuHolder\">\r\n              {leftIcon}\r\n              <span className=\"nav-text\">{label}</span>\r\n            </span>\r\n          </Link>\r\n        </Menu.Item>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"sidebar-menu\">\r\n        {/* <div className=\"logo\" style={{ color: \"white\" }}>\r\n          <Logo />\r\n        </div> */}\r\n        <div className=\"nav-menu-items\">\r\n          {currentLoggedInUser ? (\r\n            <div className=\"doctor-avtar\">\r\n              <Avatar>\r\n                {currentLoggedInUser && currentLoggedInUser.avatar\r\n                  ? currentLoggedInUser.avatar\r\n                  : \"\"}\r\n              </Avatar>\r\n              <div className=\"doctor-detail\">\r\n                <div className=\"name-icon\">\r\n                  {`${currentLoggedInUser.first_name} ${currentLoggedInUser.last_name}`}\r\n                </div>\r\n                <div className=\"email\">{currentLoggedInUser.email}</div>\r\n              </div>\r\n              <div className=\"profile-actions\">\r\n                <ul>\r\n                  <li><PhoneOutlined /></li>\r\n                  <li><MailOutlined /></li>\r\n                  <li><FormOutlined /></li>\r\n                  {/* <li><Link to={{pathname:'/profile',state:{from:'notifications'}}}><BellOutlined /></Link></li> */}\r\n                  <li><BellOutlined /></li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <Menu\r\n            theme=\"light\"\r\n            mode=\"inline\"\r\n            onClick={handleClick}\r\n            // defaultSelectedKeys=\"/\"\r\n            defaultOpenKeys={menuActiveKey}\r\n          // selectedKeys={currentURI}\r\n          >\r\n            {sideBarOptions &&\r\n              Object.keys(sideBarOptions).length > 0 &&\r\n              sideBarOptions.map((singleOption) => getMenuItem(singleOption))}\r\n          </Menu>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\nfunction mapStateToProps(state) {\r\n\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n\r\n}\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(Sidebar);\r\n"]},"metadata":{},"sourceType":"module"}