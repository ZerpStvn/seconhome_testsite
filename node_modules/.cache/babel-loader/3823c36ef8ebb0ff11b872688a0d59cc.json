{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\src\\\\app\\\\pages\\\\client\\\\search\\\\SavedSearchList.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { signin } from \"../../../redux/actions/auth-actions\";\nimport { useDispatch } from \"react-redux\";\nimport { notifyUser } from \"../../../services/notification-service\";\nimport UserService from \"../../../services/user-service\";\nimport { createLeadClient } from \"../../../redux/actions/lead-client-actions\";\nimport API from \"../../../redux/api/saved-search\";\nimport { Breadcrumb, Empty, Form, Button, Card, Row, Col, Spin, Typography, Modal } from \"antd\";\nimport { CloseOutlined, EyeOutlined } from \"@ant-design/icons\";\nimport moment from 'moment';\nimport { Link } from \"react-router-dom\";\nimport { humanize } from \"../../../helpers/string-helper\";\nimport SavedSearchCard from \"./SavedSearchCard\";\nvar Text = Typography.Text,\n    Title = Typography.Title;\n\nvar SavedSearchList = function SavedSearchList(_ref) {\n  var history = _ref.history;\n  var dispatch = useDispatch();\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _Form$useForm3 = Form.useForm(),\n      _Form$useForm4 = _slicedToArray(_Form$useForm3, 1),\n      formPrimaryContact = _Form$useForm4[0];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      savedSearch = _useState2[0],\n      setSavedSearch = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isDetailModalVisible = _useState4[0],\n      setIsDetailModalVisible = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      primaryClientLoaded = _useState6[0],\n      setPrimaryClientLoaded = _useState6[1];\n\n  var user = UserService.getLoggedInUser();\n  useEffect(function () {\n    primaryClientLoaded && getPrimaryClient();\n  }, [primaryClientLoaded]);\n\n  var getPrimaryClient = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var leadClient, TempSaveSearchData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return API.savedSearch({\n                fields: \"*\"\n              });\n\n            case 2:\n              leadClient = _context.sent;\n              TempSaveSearchData = leadClient.data;\n              setSavedSearch(TempSaveSearchData);\n              setPrimaryClientLoaded(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getPrimaryClient() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  function onChange(checked) {\n    console.log(\"switch to \".concat(checked));\n  }\n\n  var deleteSavedSearch = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(Id) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return API.deleteSavedSearch(Id);\n\n            case 2:\n              setPrimaryClientLoaded(true);\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function deleteSavedSearch(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var mapContent = function mapContent(Item) {\n    var entry = 1;\n    return Object.entries(Item).map(function (Key, Value) {\n      var content;\n\n      if (Key[1] !== null && Key[1] !== '' && Key[0] !== 'id' && Key[0] !== 'client' && Key[0] !== 'title' && Key[0] !== 'date_created' && Key[0] !== 'address' && Key[0] !== 'lat' && Key[0] !== 'lng' && entry <= 3) {\n        entry += 1;\n        content = /*#__PURE__*/React.createElement(\"div\", {\n          key: Value,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Text, {\n          strong: true,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 48\n          }\n        }, humanize(Key[0]), \" :\"), \" \", /*#__PURE__*/React.createElement(Text, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 89\n          }\n        }, Key[0] === \"date_created\" ? moment(Key[1]).format('MM-DD-YYYY') : typeof Key[1] !== 'object' ? Key[1] : Key[1].map(function (item) {\n          return humanize(item);\n        }).join(', ')));\n      }\n\n      return content;\n    });\n  };\n\n  var mapModalContent = function mapModalContent(Item) {\n    return Object.entries(Item).map(function (Key, Value) {\n      var content;\n\n      if (Key[1] !== null && Key[1] !== '') {\n        content = /*#__PURE__*/React.createElement(\"div\", {\n          key: Value,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Text, {\n          strong: true,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 48\n          }\n        }, humanize(Key[0]), \" :\"), \" \", /*#__PURE__*/React.createElement(Text, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 89\n          }\n        }, Key[0] === \"date_created\" ? moment(Key[1]).format('MM-DD-YYYY') : typeof Key[1] !== 'object' ? Key[1] : Key[1].map(function (item) {\n          return humanize(item);\n        }).join(', ')));\n      }\n\n      return content;\n    });\n  };\n\n  var showDetailModal = function showDetailModal() {\n    setIsDetailModalVisible(!isDetailModalVisible);\n  };\n\n  return /*#__PURE__*/React.createElement(Spin, {\n    spinning: primaryClientLoaded,\n    size: \"large\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"save-search-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"Client\"), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, humanize(user.client[0].name)), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"Saved Search\")), /*#__PURE__*/React.createElement(Card, {\n    className: \"card-wrap\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, savedSearch.length !== 0 ? savedSearch.map(function (item, index) {\n    return /*#__PURE__*/React.createElement(Col, {\n      className: \"gutter-row\",\n      xs: 24,\n      sm: 12,\n      md: 8,\n      lg: 6,\n      xl: 6,\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(SavedSearchCard, {\n      data: item,\n      deleteSavedSearch: deleteSavedSearch,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 41\n      }\n    }));\n  }) : /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    md: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Empty, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }))))));\n};\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SavedSearchList);","map":{"version":3,"sources":["C:/Users/SFelizardo/Desktop/Projects/secondhome/second-home-referrals/src/app/pages/client/search/SavedSearchList.js"],"names":["React","useState","useEffect","connect","signin","useDispatch","notifyUser","UserService","createLeadClient","API","Breadcrumb","Empty","Form","Button","Card","Row","Col","Spin","Typography","Modal","CloseOutlined","EyeOutlined","moment","Link","humanize","SavedSearchCard","Text","Title","SavedSearchList","history","dispatch","useForm","form","formPrimaryContact","savedSearch","setSavedSearch","isDetailModalVisible","setIsDetailModalVisible","primaryClientLoaded","setPrimaryClientLoaded","user","getLoggedInUser","getPrimaryClient","fields","leadClient","TempSaveSearchData","data","onChange","checked","console","log","deleteSavedSearch","Id","mapContent","Item","entry","Object","entries","map","Key","Value","content","format","item","join","mapModalContent","showDetailModal","client","name","length","index","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signin } from \"../../../redux/actions/auth-actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { notifyUser } from \"../../../services/notification-service\";\r\nimport UserService from \"../../../services/user-service\";\r\nimport { createLeadClient } from \"../../../redux/actions/lead-client-actions\";\r\nimport API from \"../../../redux/api/saved-search\";\r\nimport { Breadcrumb, Empty, Form, Button, Card, Row, Col, Spin, Typography, Modal } from \"antd\";\r\nimport { CloseOutlined, EyeOutlined } from \"@ant-design/icons\";\r\nimport moment from 'moment';\r\nimport { Link } from \"react-router-dom\";\r\nimport { humanize } from \"../../../helpers/string-helper\";\r\nimport SavedSearchCard from \"./SavedSearchCard\";\r\nconst { Text, Title } = Typography;\r\n\r\n\r\nconst SavedSearchList = ({ history }) => {\r\n    const dispatch = useDispatch();\r\n    const [form] = Form.useForm();\r\n    const [formPrimaryContact] = Form.useForm();\r\n\r\n    const [savedSearch, setSavedSearch] = useState([]);\r\n    const [isDetailModalVisible, setIsDetailModalVisible] = useState(false);\r\n    const [primaryClientLoaded, setPrimaryClientLoaded] = useState(true);\r\n\r\n    const user = UserService.getLoggedInUser()\r\n    useEffect(() => {\r\n        primaryClientLoaded && getPrimaryClient();\r\n    }, [primaryClientLoaded]);\r\n\r\n\r\n    const getPrimaryClient = async () => {\r\n        let leadClient = await API.savedSearch({ fields: \"*\" });\r\n        let TempSaveSearchData = leadClient.data;\r\n        setSavedSearch(TempSaveSearchData);\r\n        setPrimaryClientLoaded(false);\r\n    }\r\n    function onChange(checked) {\r\n        console.log(`switch to ${checked}`);\r\n    }\r\n\r\n    const deleteSavedSearch = async (Id) => {\r\n        await API.deleteSavedSearch(Id);\r\n        setPrimaryClientLoaded(true);\r\n    }\r\n\r\n    const mapContent = (Item) => {\r\n        let entry = 1;\r\n        return (\r\n            Object.entries(Item).map((Key, Value) => {\r\n                let content;\r\n                if (Key[1] !== null && Key[1] !== '' && Key[0] !== 'id' && Key[0] !== 'client' && Key[0] !== 'title' && Key[0] !== 'date_created' && Key[0] !== 'address' && Key[0] !== 'lat' && Key[0] !== 'lng' && entry <= 3) {\r\n                    entry += 1;\r\n                    content = <div key={Value}><Text strong>{humanize(Key[0])} :</Text> <Text >{\r\n                        Key[0] === \"date_created\" ? moment(Key[1]).format('MM-DD-YYYY') :\r\n                            typeof Key[1] !== 'object' ? Key[1] :\r\n                                Key[1].map((item) => {\r\n                                    return (\r\n                                        humanize(item)\r\n                                    )\r\n                                }).join(', ')\r\n                    }</Text></div>\r\n                }\r\n                return content\r\n            })\r\n        );\r\n    }\r\n    const mapModalContent = (Item) => {\r\n        return (\r\n            Object.entries(Item).map((Key, Value) => {\r\n                let content;\r\n                if (Key[1] !== null && Key[1] !== '') {\r\n\r\n                    content = <div key={Value}><Text strong>{humanize(Key[0])} :</Text> <Text >{\r\n                        Key[0] === \"date_created\" ? moment(Key[1]).format('MM-DD-YYYY') :\r\n                            typeof Key[1] !== 'object' ? Key[1] :\r\n                                Key[1].map((item) => {\r\n                                    return (\r\n                                        humanize(item)\r\n                                    )\r\n                                }).join(', ')\r\n                    }</Text></div>\r\n                }\r\n                return content\r\n            })\r\n        );\r\n    }\r\n    const showDetailModal = () => {\r\n        setIsDetailModalVisible(!isDetailModalVisible);\r\n    }\r\n\r\n    return (\r\n        <Spin spinning={primaryClientLoaded} size=\"large\">\r\n            <div className=\"save-search-page\">\r\n                <Breadcrumb>\r\n                    <Breadcrumb.Item>Client</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>{humanize(user.client[0].name)}</Breadcrumb.Item>\r\n                    <Breadcrumb.Item>Saved Search</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <Card className=\"card-wrap\">\r\n                    <Row gutter={24}>\r\n                        {savedSearch.length !== 0 ?\r\n                            savedSearch.map((item, index) => {\r\n                                return (\r\n                                    <Col className=\"gutter-row\" xs={24} sm={12} md={8} lg={6} xl={6} key={index}>\r\n                                        <SavedSearchCard data={item} deleteSavedSearch={deleteSavedSearch} />\r\n                                        {/* <Card className=\"save-search-card\">\r\n                                            <div className=\"card-inner\">\r\n                                                <div className=\"card-header\"><span>\r\n                                                    <Title level={3}>{humanize(item.title)}</Title>\r\n                                                </span>\r\n                                                    <div className=\"edit-option\">\r\n                                                        <Link onClick={() => deleteSavedSearch(item.id)}>\r\n                                                            <CloseOutlined />\r\n                                                        </Link>\r\n                                                    </div>\r\n                                                </div>\r\n                                                {item.state !== null && item.city !== null ?\r\n                                                    <p style={{ marginTop: 20 }}>\r\n                                                        <span>{item.city !== null ? item.city : ''}, {item.state !== null ? item.state : ''}</span>\r\n                                                    </p>\r\n                                                    : ''}\r\n\r\n                                                <div className=\"card-content\">\r\n                                                    {mapContent(item)}\r\n                                                </div>\r\n                                                <div className=\"card-footer\">\r\n                                                   \r\n                                                    <a\r\n                                                        onClick={showDetailModal}\r\n                                                        style={{ color: \"#1B75BC\" }}\r\n                                                    >\r\n                                                        <EyeOutlined />\r\n                                                    </a>\r\n                                                </div>\r\n                                                <Modal footer={null} title=\"Details\" visible={isDetailModalVisible} onOk={showDetailModal} onCancel={showDetailModal}>\r\n                                                    <div>\r\n                                                        {mapModalContent(item)}\r\n                                                    </div>\r\n                                                </Modal>\r\n                                            </div>\r\n                                        </Card> */}\r\n                                    </Col>\r\n                                );\r\n                            })\r\n                            : <Col xs={24} md={24} >\r\n                                <Empty />\r\n                            </Col>}\r\n                        {/* {savedSearch.map((item, index) => {\r\n                            return (\r\n                                <Col className=\"gutter-row\" xs={24} sm={12} md={8} lg={6} xl={6} key={index}>\r\n                                    <Card className=\"save-search-card\">\r\n                                        <div className=\"card-inner\">\r\n                                            <div className=\"card-header\"><span>\r\n                                                <Title level={3}>{humanize(item.title)}</Title>\r\n                                            </span>\r\n                                                <div className=\"edit-option\">\r\n                                                    <Link onClick={() => deleteSavedSearch(item.id)}>\r\n                                                        <CloseOutlined />\r\n                                                    </Link>\r\n                                                </div>\r\n                                            </div>\r\n                                            {item.state !== null && item.city !== null ?\r\n                                                <p style={{ marginTop: 20 }}>\r\n                                                    <span>{item.city !== null ? item.city : ''}, {item.state !== null ? item.state : ''}</span>\r\n                                                </p>\r\n                                                : ''}\r\n\r\n                                            <div className=\"card-content\">\r\n                                                {mapContent(item)}\r\n                                            </div>\r\n                                            <div className=\"card-footer\">\r\n                                                <Button size=\"large\" className=\"search-btn\" href={`/admin/clients/community/search/${item.id}`}>\r\n                                                    Run Search\r\n                                                </Button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </Card>\r\n                                </Col>\r\n                            );\r\n                        })} */}\r\n                    </Row>\r\n                </Card>\r\n            </div>\r\n        </Spin>\r\n\r\n    );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SavedSearchList);\r\n"]},"metadata":{},"sourceType":"module"}