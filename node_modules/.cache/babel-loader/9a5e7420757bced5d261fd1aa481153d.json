{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\SFelizardo\\\\Downloads\\\\secondhome\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\SFelizardo\\\\Downloads\\\\secondhome\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\SFelizardo\\\\Downloads\\\\secondhome\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\SFelizardo\\\\Downloads\\\\secondhome\\\\src\\\\app\\\\pages\\\\home-owner\\\\profile\\\\list-lead-contacts.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { listAllLeadContacts as _listAllLeadContacts, updateLeadContact as _updateLeadContact } from \"../../../redux/actions/lead-contact-actions\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { notifyUser } from \"../../../services/notification-service\";\nimport { List, Divider, Row, Col, Button, PageHeader, Table, Tag, Space, Breadcrumb, Card, Descriptions, Form, Select, Input } from \"antd\";\nimport { compose } from \"redux\";\nimport { EditOutlined } from \"@ant-design/icons\";\nimport { data } from \"jquery\";\nimport { humanize } from \"../../../helpers/string-helper\";\nimport { loadCurrentLoggedInUser as _loadCurrentLoggedInUser, updateUser as _updateUser } from \"../../../redux/actions/user-actions\";\nimport UploadDocuments from \"../../../components/upload-documents\";\nimport Config from \"../../../config\";\nimport fileAPI from \"../../../redux/api/file-api\";\nimport { update } from \"lodash\";\nimport userService from \"../../../services/user-service\";\n\nvar formatNumber = function formatNumber(e) {\n  if (e) {\n    var x = e.toString().replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\n    return !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\n  }\n};\n\nvar ListLeadContact = function ListLeadContact(_ref) {\n  var leadContactList = _ref.leadContactList,\n      leadContactListLoading = _ref.leadContactListLoading,\n      currentLoggedInUser = _ref.currentLoggedInUser,\n      userUpdated = _ref.userUpdated;\n  var user = userService.getLoggedInUser();\n  var dispatch = useDispatch();\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      documentList = _useState2[0],\n      setdDocumentList = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1]; // console.log(leadContactList);\n\n\n  var columns = [{\n    title: \"Community\",\n    dataIndex: \"home_name\",\n    key: \"home_name\",\n    render: function render(homes, leadContact) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, homes && homes.map(function (item, index) {\n        return item.homes_id && item.homes_id.name;\n      }).join(', ')) // <Space size=\"middle\">\n      //   <Link to={`/owner/communities/${leadContact.home_id}`}>{text}</Link>\n      // </Space>\n      ;\n    }\n  }, {\n    title: \"Name\",\n    dataIndex: \"name\",\n    key: \"name\",\n    render: function render(text, leadContact) {\n      return /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/owner/lead-contacts/\".concat(leadContact.key),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }\n      }, humanize(text)));\n    }\n  }, {\n    title: \"Email\",\n    dataIndex: \"email\",\n    key: \"email\",\n    render: function render(text, leadContact) {\n      return /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 38\n        }\n      }, text);\n    }\n  }, {\n    title: \"Cell\",\n    dataIndex: \"phone\",\n    key: \"phone\",\n    render: function render(text, leadContact) {\n      return /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 38\n        }\n      }, formatNumber(text));\n    }\n  }, {\n    title: \"Job Title\",\n    dataIndex: \"job_title\",\n    key: \"job_title\",\n    render: function render(text) {\n      return /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, \"\".concat(text));\n    }\n  } // {\n  //   title: \"Status\",\n  //   dataIndex: \"status\",\n  //   key: \"status\",\n  //   render: (text) => (\n  //     <Space>\n  //       <Tag color={text == \"published\" ? \"green\" : \"red\"}>\n  //         {humanize(text)}\n  //       </Tag>\n  //     </Space>\n  //   ),\n  // },\n  ];\n  useEffect(function () {\n    if (!currentLoggedInUser || !currentLoggedInUser.contract || !currentLoggedInUser.contract.id || userUpdated) {\n      dispatch(_loadCurrentLoggedInUser({\n        fields: \"*,contract.*\"\n      }));\n    }\n\n    setdDocumentList(currentLoggedInUser && currentLoggedInUser.contract ? [{\n      uid: currentLoggedInUser.contract.id,\n      id: currentLoggedInUser.contract.id,\n      status: \"done\",\n      url: \"\".concat(Config.API, \"/assets/\").concat(currentLoggedInUser.contract.id),\n      name: currentLoggedInUser.contract.filename_download\n    }] : []);\n    console.log(user, \"user\");\n    dispatch(_listAllLeadContacts({\n      'fields': [\"*\", \"homes.*\", \"homes.homes_id.*\"],\n      filter: {\n        \"user_created\": {\n          \"_eq\": user.id\n        }\n      }\n    }));\n\n    if (userUpdated) {\n      setLoading(false);\n    }\n\n    return function () {\n      console.log(\"Communities Unmounting\");\n    }; // }, [currentLoggedInUser, userUpdated]);\n  }, []);\n\n  var handleSave = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var _contract;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _contract = null;\n              _context.next = 4;\n              return getFilesArray(documentList);\n\n            case 4:\n              _contract = _context.sent;\n              values.contract = _contract;\n              _context.next = 8;\n              return dispatch(_updateUser(currentLoggedInUser.id, values));\n\n            case 8:\n              window.location.reload();\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSave(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handelDocumentChange = function handelDocumentChange(_ref3) {\n    var fileList = _ref3.fileList;\n    setdDocumentList(fileList);\n  };\n\n  var getFilesArray = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fileList) {\n      var file, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!fileList.length) {\n                _context2.next = 10;\n                break;\n              }\n\n              file = fileList[0];\n\n              if (!file.id) {\n                _context2.next = 6;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", file.id);\n\n            case 6:\n              _context2.next = 8;\n              return fileAPI.uploadFile(file);\n\n            case 8:\n              response = _context2.sent;\n              return _context2.abrupt(\"return\", response.data.id);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getFilesArray(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"Profile\"))), /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 10,\n    xl: 10,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, currentLoggedInUser && /*#__PURE__*/React.createElement(Card, {\n    title: \"\".concat(currentLoggedInUser.first_name, \" \").concat(currentLoggedInUser.last_name),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Descriptions, {\n    column: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"Email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, currentLoggedInUser.email), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"Partner Code\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, currentLoggedInUser.code)), /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    layout: \"vertical\",\n    onFinish: handleSave // initialValues={currentLoggedInUser}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"contract_status\",\n    label: \"Contract Status\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    disabled: true,\n    defaultValue: humanize(currentLoggedInUser.contract_status),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"description\",\n    label: \"Background\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input.TextArea, {\n    placeholder: \"Tell us about you and your company. How did you get started? How do you stand a part from your competitors?\",\n    defaultValue: humanize(currentLoggedInUser.description),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    loading: loading,\n    disabled: loading,\n    htmlType: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 19\n    }\n  }, \"Save\")))), currentLoggedInUser && /*#__PURE__*/React.createElement(Card, {\n    title: \"Billing Details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Descriptions, {\n    column: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }, currentLoggedInUser.first_name, \" \", currentLoggedInUser.last_name), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"Email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 17\n    }\n  }, currentLoggedInUser.email), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"Phone\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, currentLoggedInUser.cell)))), /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 14,\n    xl: 14,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: \"Lead Contacts\",\n    extra: /*#__PURE__*/React.createElement(Button, {\n      href: \"/dashboard/owner/lead-contacts/add\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 15\n      }\n    }, \"Add Lead Contact\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    columns: columns,\n    loading: leadContactListLoading,\n    dataSource: leadContactList.map(function (_ref5) {\n      var first_name = _ref5.first_name,\n          last_name = _ref5.last_name,\n          phone = _ref5.phone,\n          email = _ref5.email,\n          id = _ref5.id,\n          job_title = _ref5.job_title,\n          homes = _ref5.homes;\n      return {\n        name: first_name + \" \" + last_name,\n        phone: phone,\n        email: email,\n        key: id,\n        // status,\n        job_title: !!job_title ? job_title : '',\n        home_name: homes && homes // home_id: homes && homes.home_id\n\n      };\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  })))));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    leadContactList: state.leadContact.leadContactList,\n    leadContactListLoading: state.leadContact.leadContactListLoading,\n    currentLoggedInUser: state.user.currentLoggedInUser,\n    userUpdated: state.user.userUpdated\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    listAllLeadContacts: function listAllLeadContacts() {\n      return dispatch(_listAllLeadContacts());\n    },\n    updateLeadContact: function updateLeadContact() {\n      return dispatch(_updateLeadContact());\n    },\n    loadCurrentLoggedInUser: function loadCurrentLoggedInUser() {\n      return dispatch(_loadCurrentLoggedInUser());\n    },\n    updateUser: function updateUser() {\n      return dispatch(_updateUser());\n    }\n  };\n}\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(ListLeadContact);","map":{"version":3,"sources":["C:/Users/SFelizardo/Downloads/secondhome/src/app/pages/home-owner/profile/list-lead-contacts.js"],"names":["React","useEffect","useState","connect","listAllLeadContacts","updateLeadContact","useDispatch","Link","notifyUser","List","Divider","Row","Col","Button","PageHeader","Table","Tag","Space","Breadcrumb","Card","Descriptions","Form","Select","Input","compose","EditOutlined","data","humanize","loadCurrentLoggedInUser","updateUser","UploadDocuments","Config","fileAPI","update","userService","formatNumber","e","x","toString","replace","match","ListLeadContact","leadContactList","leadContactListLoading","currentLoggedInUser","userUpdated","user","getLoggedInUser","dispatch","useForm","form","documentList","setdDocumentList","loading","setLoading","columns","title","dataIndex","key","render","homes","leadContact","map","item","index","homes_id","name","join","text","contract","id","fields","uid","status","url","API","filename_download","console","log","filter","handleSave","values","_contract","getFilesArray","window","location","reload","handelDocumentChange","fileList","length","file","uploadFile","response","first_name","last_name","email","code","contract_status","description","cell","phone","job_title","home_name","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { listAllLeadContacts, updateLeadContact, } from \"../../../redux/actions/lead-contact-actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { notifyUser } from \"../../../services/notification-service\";\r\nimport { List, Divider, Row, Col, Button, PageHeader, Table, Tag, Space, Breadcrumb, Card, Descriptions, Form, Select, Input, } from \"antd\";\r\nimport { compose } from \"redux\";\r\nimport { EditOutlined } from \"@ant-design/icons\";\r\nimport { data } from \"jquery\";\r\nimport { humanize } from \"../../../helpers/string-helper\";\r\nimport { loadCurrentLoggedInUser, updateUser, } from \"../../../redux/actions/user-actions\";\r\nimport UploadDocuments from \"../../../components/upload-documents\";\r\nimport Config from \"../../../config\";\r\nimport fileAPI from \"../../../redux/api/file-api\";\r\nimport { update } from \"lodash\";\r\nimport userService from \"../../../services/user-service\";\r\n\r\nconst formatNumber = (e) => {\r\n  if (e) {\r\n      var x = e.toString().replace(/\\D/g, '').match(/(\\d{0,3})(\\d{0,3})(\\d{0,4})/);\r\n      return !x[2] ? x[1] : '(' + x[1] + ') ' + x[2] + (x[3] ? '-' + x[3] : '');\r\n\r\n  }\r\n}\r\n\r\nconst ListLeadContact = ({\r\n  leadContactList,\r\n  leadContactListLoading,\r\n  currentLoggedInUser,\r\n  userUpdated,\r\n}) => {\r\n  const user = userService.getLoggedInUser();\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n  const [documentList, setdDocumentList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  // console.log(leadContactList);\r\n  const columns = [\r\n    {\r\n      title: \"Community\",\r\n      dataIndex: \"home_name\",\r\n      key: \"home_name\",\r\n      render: (homes, leadContact) => (\r\n        <>\r\n          {homes && homes.map((item, index) => {\r\n            return item.homes_id && item.homes_id.name\r\n          }).join(', ')}\r\n        </>\r\n        // <Space size=\"middle\">\r\n\r\n        //   <Link to={`/owner/communities/${leadContact.home_id}`}>{text}</Link>\r\n        // </Space>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      render: (text, leadContact) => (\r\n        <Space size=\"middle\">\r\n          <Link to={`/owner/lead-contacts/${leadContact.key}`}>{humanize(text)}</Link>\r\n        </Space>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Email\",\r\n      dataIndex: \"email\",\r\n      key: \"email\",\r\n      render: (text, leadContact) => <Space size=\"middle\">{text}</Space>,\r\n    },\r\n\r\n    {\r\n      title: \"Cell\",\r\n      dataIndex: \"phone\",\r\n      key: \"phone\",\r\n      render: (text, leadContact) => <Space size=\"middle\">{formatNumber(text)}</Space>,\r\n    },\r\n\r\n    {\r\n      title: \"Job Title\",\r\n      dataIndex: \"job_title\",\r\n      key: \"job_title\",\r\n      render: (text) => <Space size=\"middle\">{`${text}`}</Space>,\r\n    },\r\n    // {\r\n    //   title: \"Status\",\r\n    //   dataIndex: \"status\",\r\n    //   key: \"status\",\r\n    //   render: (text) => (\r\n    //     <Space>\r\n    //       <Tag color={text == \"published\" ? \"green\" : \"red\"}>\r\n    //         {humanize(text)}\r\n    //       </Tag>\r\n    //     </Space>\r\n    //   ),\r\n    // },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (\r\n      !currentLoggedInUser ||\r\n      !currentLoggedInUser.contract ||\r\n      !currentLoggedInUser.contract.id ||\r\n      userUpdated\r\n    ) {\r\n      dispatch(loadCurrentLoggedInUser({ fields: \"*,contract.*\" }));\r\n    }\r\n\r\n    setdDocumentList(\r\n      currentLoggedInUser && currentLoggedInUser.contract\r\n        ? [\r\n          {\r\n            uid: currentLoggedInUser.contract.id,\r\n            id: currentLoggedInUser.contract.id,\r\n            status: \"done\",\r\n            url: `${Config.API}/assets/${currentLoggedInUser.contract.id}`,\r\n            name: currentLoggedInUser.contract.filename_download,\r\n          },\r\n        ]\r\n        : []\r\n    );\r\n    console.log(user, \"user\");\r\n    dispatch(listAllLeadContacts({\r\n      'fields': [\"*\", \"homes.*\", \"homes.homes_id.*\"], filter: {\r\n        \"user_created\": {\r\n          \"_eq\": user.id\r\n        }\r\n      }\r\n    }));\r\n    if (userUpdated) {\r\n      setLoading(false);\r\n    }\r\n\r\n    return () => {\r\n      console.log(\"Communities Unmounting\");\r\n    };\r\n    // }, [currentLoggedInUser, userUpdated]);\r\n  }, []);\r\n\r\n  const handleSave = async (values) => {\r\n    setLoading(true);\r\n    var _contract = null;\r\n    _contract = await getFilesArray(documentList);\r\n    values.contract = _contract;\r\n    await dispatch(updateUser(currentLoggedInUser.id, values));\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  const handelDocumentChange = ({ fileList }) => {\r\n    setdDocumentList(fileList);\r\n  };\r\n\r\n  const getFilesArray = async (fileList) => {\r\n    if (fileList.length) {\r\n      let file = fileList[0];\r\n      if (file.id) {\r\n        return file.id;\r\n      } else {\r\n        const response = await fileAPI.uploadFile(file);\r\n        return response.data.id;\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/owner\">Home</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/owner/profile\">Profile</Link>\r\n        </Breadcrumb.Item>\r\n      </Breadcrumb>\r\n      <Row gutter={30}>\r\n        {/* {console.log(currentLoggedInUser, 'currentLoggedInUser')} */}\r\n        <Col xs={24} sm={24} md={24} lg={10} xl={10}>\r\n          {currentLoggedInUser && (\r\n            <Card\r\n              title={`${currentLoggedInUser.first_name} ${currentLoggedInUser.last_name}`}\r\n            >\r\n              <Descriptions column={1}>\r\n                <Descriptions.Item label=\"Email\">\r\n                  {currentLoggedInUser.email}\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"Partner Code\">\r\n                  {currentLoggedInUser.code}\r\n                </Descriptions.Item>\r\n              </Descriptions>\r\n\r\n              <Form\r\n                form={form}\r\n                layout={\"vertical\"}\r\n                onFinish={handleSave}\r\n              // initialValues={currentLoggedInUser}\r\n              >\r\n                {/* {console.log(currentLoggedInUser, 'currentLoggedInUser')} */}\r\n                {/* <Form.Item label=\"Contract\">\r\n                  <UploadDocuments\r\n                    documentList={documentList}\r\n                    handelDocumentListChange={handelDocumentChange}\r\n                  />\r\n                </Form.Item> */}\r\n                <Form.Item name=\"contract_status\" label=\"Contract Status\">\r\n                  {/* <Select disabled={true}>\r\n                    <Select.Option key=\"pending\" value=\"pending\">\r\n                      Pending\r\n                    </Select.Option>\r\n                    <Select.Option key=\"signed\" value=\"signed\">\r\n                      Signed\r\n                    </Select.Option>\r\n                  </Select> */}\r\n                  <Input disabled={true} defaultValue={humanize(currentLoggedInUser.contract_status)} />\r\n                </Form.Item>\r\n                <Form.Item name=\"description\" label=\"Background\">\r\n                  <Input.TextArea placeholder=\"Tell us about you and your company. How did you get started? How do you stand a part from your competitors?\" defaultValue={humanize(currentLoggedInUser.description)} />\r\n                </Form.Item>\r\n                <Form.Item>\r\n                  <Button type=\"primary\" loading={loading} disabled={loading} htmlType=\"submit\">\r\n                    Save\r\n                  </Button>\r\n                </Form.Item>\r\n              </Form>\r\n            </Card>\r\n\r\n          )}\r\n          {currentLoggedInUser && (\r\n            <Card\r\n              title={`Billing Details`}\r\n            >\r\n              <Descriptions column={1}>\r\n                <Descriptions.Item label=\"Name\">\r\n                  {currentLoggedInUser.first_name} {currentLoggedInUser.last_name}\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"Email\">\r\n                  {currentLoggedInUser.email}\r\n                </Descriptions.Item>\r\n                <Descriptions.Item label=\"Phone\">\r\n                  {currentLoggedInUser.cell}\r\n                </Descriptions.Item>\r\n              </Descriptions>\r\n            </Card>\r\n          )}\r\n        </Col>\r\n        <Col xs={24} sm={24} md={24} lg={14} xl={14}>\r\n          <Card\r\n            title=\"Lead Contacts\"\r\n            extra={\r\n              <Button href={\"/dashboard/owner/lead-contacts/add\"}>\r\n                Add Lead Contact\r\n              </Button>\r\n            }\r\n          >\r\n            <Table\r\n              columns={columns}\r\n              loading={leadContactListLoading}\r\n              dataSource={leadContactList.map(\r\n                ({\r\n                  first_name,\r\n                  last_name,\r\n                  phone,\r\n                  email,\r\n                  // status,\r\n                  id,\r\n                  job_title,\r\n                  homes\r\n\r\n                }) => {\r\n                  return {\r\n                    name: first_name + \" \" + last_name,\r\n                    phone,\r\n                    email,\r\n                    key: id,\r\n                    // status,\r\n                    job_title: !!job_title ? job_title : '',\r\n                    home_name: homes && homes,\r\n                    // home_id: homes && homes.home_id\r\n                  };\r\n                }\r\n              )}\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    leadContactList: state.leadContact.leadContactList,\r\n    leadContactListLoading: state.leadContact.leadContactListLoading,\r\n    currentLoggedInUser: state.user.currentLoggedInUser,\r\n    userUpdated: state.user.userUpdated,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    listAllLeadContacts: () => dispatch(listAllLeadContacts()),\r\n    updateLeadContact: () => dispatch(updateLeadContact()),\r\n    loadCurrentLoggedInUser: () => dispatch(loadCurrentLoggedInUser()),\r\n    updateUser: () => dispatch(updateUser()),\r\n  };\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(\r\n  ListLeadContact\r\n);\r\n"]},"metadata":{},"sourceType":"module"}