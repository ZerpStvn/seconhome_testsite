{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\src\\\\app\\\\pages\\\\admin\\\\client\\\\template.jsx\";\n\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { EditorState, convertToRaw } from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport draftToHtml from \"draftjs-to-html\";\nimport htmlToDraft from \"html-to-draftjs\";\nimport API from \"../../../redux/api/lead-client-api\";\nimport { Form, Input, Select, Button, Tooltip } from \"antd\";\nimport { notifyUser } from \"../../../services/notification-service\";\nimport UploadDocuments from \"../../../components/upload-documents\";\nimport fileAPI from \"../../../redux/api/file-api\";\n\nvar Template = function Template(_ref) {\n  var history = _ref.history;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      attachment = _useState2[0],\n      setAttachment = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      document = _useState4[0],\n      setDocument = _useState4[1];\n\n  var _useState5 = useState(EditorState.createEmpty()),\n      _useState6 = _slicedToArray(_useState5, 2),\n      editorState = _useState6[0],\n      setEditorState = _useState6[1];\n\n  var editor = React.useRef(null);\n\n  function focusEditor() {\n    editor.current.focus();\n  }\n\n  var onEditorStateChange = function onEditorStateChange(editorState) {\n    console.log(draftToHtml(convertToRaw(editorState.getCurrentContent())));\n    setEditorState(editorState);\n  };\n\n  var submit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(attachment);\n              values.message = draftToHtml(convertToRaw(editorState.getCurrentContent()));\n              values.attachment = document;\n              _context.next = 5;\n              return API.createEmailTemplate(values);\n\n            case 5:\n              response = _context.sent;\n              history.push(\"/admin/email_template\");\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function submit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var copyText = function copyText(value) {\n    var copyText = value.target;\n    navigator.clipboard.writeText(copyText.innerText);\n    notifyUser(\"Copied\", \"success\");\n  };\n\n  var handleAttachment = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3) {\n      var fileList, importantDocumentsIds, _documents;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fileList = _ref3.fileList;\n              _context2.next = 3;\n              return getFilesArray(fileList);\n\n            case 3:\n              importantDocumentsIds = _context2.sent;\n              _documents = _toConsumableArray(importantDocumentsIds);\n              setAttachment(fileList);\n              setDocument(_documents[0]);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleAttachment(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var getFilesArray = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(fileList) {\n      var fileIds, i, file, response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              fileIds = [];\n              i = 0;\n\n            case 2:\n              if (!(i < fileList.length)) {\n                _context3.next = 15;\n                break;\n              }\n\n              file = fileList[i];\n\n              if (!file.id) {\n                _context3.next = 8;\n                break;\n              }\n\n              fileIds.push(file.id);\n              _context3.next = 12;\n              break;\n\n            case 8:\n              _context3.next = 10;\n              return fileAPI.uploadFile(file);\n\n            case 10:\n              response = _context3.sent;\n              fileIds.push(response.data.id);\n\n            case 12:\n              i++;\n              _context3.next = 2;\n              break;\n\n            case 15:\n              return _context3.abrupt(\"return\", fileIds);\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getFilesArray(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"admin-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    name: \"dynamic_rule\",\n    onFinish: submit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"name\",\n    label: \"Name\",\n    rules: [{\n      required: true,\n      message: \"Please enter Name\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Johan\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"subject\",\n    label: \"Subject\",\n    rules: [{\n      required: true,\n      message: \"Please enter Subject\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Subject\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"message\",\n    label: \"Message\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"editbackground\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Editor, {\n    editorState: editorState,\n    wrapperClassName: \"demo-wrapper\",\n    editorClassName: \"demo-editor\",\n    onEditorStateChange: onEditorStateChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"status\",\n    label: \"Status\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Select.Option, {\n    value: \"publish\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, \"Publish\"), /*#__PURE__*/React.createElement(Select.Option, {\n    value: \"draft\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 15\n    }\n  }, \"Draft\"))), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Save\")))));\n};\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Template);","map":{"version":3,"sources":["C:/Users/SFelizardo/Desktop/Projects/secondhome/second-home-referrals/src/app/pages/admin/client/template.jsx"],"names":["React","useState","connect","EditorState","convertToRaw","Editor","draftToHtml","htmlToDraft","API","Form","Input","Select","Button","Tooltip","notifyUser","UploadDocuments","fileAPI","Template","history","attachment","setAttachment","document","setDocument","createEmpty","editorState","setEditorState","editor","useRef","focusEditor","current","focus","onEditorStateChange","console","log","getCurrentContent","submit","values","message","createEmailTemplate","response","push","copyText","value","target","navigator","clipboard","writeText","innerText","handleAttachment","fileList","getFilesArray","importantDocumentsIds","_documents","fileIds","i","length","file","id","uploadFile","data","required","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { EditorState, convertToRaw } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport htmlToDraft from \"html-to-draftjs\";\r\nimport API from \"../../../redux/api/lead-client-api\";\r\nimport { Form, Input, Select, Button, Tooltip } from \"antd\";\r\nimport { notifyUser } from \"../../../services/notification-service\";\r\nimport UploadDocuments from \"../../../components/upload-documents\";\r\nimport fileAPI from \"../../../redux/api/file-api\";\r\n\r\n\r\nconst Template = ({ history }) => {\r\n\r\n  const [attachment, setAttachment] = useState([]);\r\n  const [document, setDocument] = useState([]);\r\n\r\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\r\n  const editor = React.useRef(null);\r\n\r\n  function focusEditor() {\r\n    editor.current.focus();\r\n  }\r\n  const onEditorStateChange = (editorState) => {\r\n    console.log(draftToHtml(convertToRaw(editorState.getCurrentContent())));\r\n    setEditorState(editorState);\r\n  };\r\n\r\n  const submit = async (values) => {\r\n    console.log(attachment);\r\n    values.message = draftToHtml(convertToRaw(editorState.getCurrentContent()));\r\n    values.attachment = document;\r\n    let response = await API.createEmailTemplate(values);\r\n    history.push(\"/admin/email_template\");\r\n  };\r\n\r\n  const copyText = (value) => {\r\n    let copyText = value.target;\r\n    navigator.clipboard.writeText(copyText.innerText);\r\n    notifyUser(\"Copied\", \"success\");\r\n  }\r\n\r\n  const handleAttachment = async ({ fileList }) => {\r\n    let importantDocumentsIds = await getFilesArray(fileList);\r\n    let _documents = [...importantDocumentsIds];\r\n    setAttachment(fileList);\r\n    setDocument(_documents[0]);\r\n  }\r\n\r\n  const getFilesArray = async (fileList) => {\r\n    let fileIds = [];\r\n    for (let i = 0; i < fileList.length; i++) {\r\n      let file = fileList[i];\r\n      if (file.id) {\r\n        fileIds.push(file.id)\r\n      } else {\r\n        const response = await fileAPI.uploadFile(file);\r\n        fileIds.push(response.data.id)\r\n      }\r\n    }\r\n    return fileIds;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"admin-form\">\r\n        <Form name=\"dynamic_rule\" onFinish={submit}>\r\n          {/* <div className=\"noasterisk\"> */}\r\n          <div className=\"\">\r\n            <Form.Item\r\n              name=\"name\"\r\n              label=\"Name\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please enter Name\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"Johan\" />\r\n            </Form.Item>\r\n          </div>\r\n          <div className=\"\">\r\n            <Form.Item\r\n              name=\"subject\"\r\n              label=\"Subject\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please enter Subject\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input placeholder=\"Subject\" />\r\n            </Form.Item>\r\n          </div>\r\n          <Form.Item name=\"message\" label=\"Message\">\r\n            <div className=\"editbackground\">\r\n              <Editor\r\n                editorState={editorState}\r\n                wrapperClassName=\"demo-wrapper\"\r\n                editorClassName=\"demo-editor\"\r\n                onEditorStateChange={onEditorStateChange}\r\n              />\r\n            </div>\r\n            {/* <div onClick={copyText}>\r\n              <Tooltip title=\"Click to copy\">\r\n                <span>{`{{partnerName}}`}</span>\r\n              </Tooltip>\r\n            </div> */}\r\n          </Form.Item>\r\n          {/* <div >\r\n            <UploadDocuments documentList={attachment} handelDocumentListChange={handleAttachment} />\r\n          </div> */}\r\n\r\n          <Form.Item name=\"status\" label=\"Status\">\r\n            <Select>\r\n              <Select.Option value={\"publish\"}>Publish</Select.Option>\r\n              <Select.Option value={\"draft\"}>Draft</Select.Option>\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              Save\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {};\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Template);\r\n"]},"metadata":{},"sourceType":"module"}