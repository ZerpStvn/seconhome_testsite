{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\SFelizardo\\\\Desktop\\\\Projects\\\\secondhome\\\\second-home-referrals\\\\src\\\\app\\\\pages\\\\home-owner\\\\profile\\\\add-lead-contact.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Row, Col, Input, Card, Skeleton, Breadcrumb, PageHeader } from \"antd\";\nimport { compose } from \"redux\";\nimport { createLeadContact as _createLeadContact } from \"../../../redux/actions/lead-contact-actions\";\nimport LeadContactForm from \"./lead-contact-form\";\nimport leadContactApi from \"../../../redux/api/lead-contact-api\";\nimport { notifyUser } from \"../../../services/notification-service\";\n\nvar AddLeadContact = function AddLeadContact(_ref) {\n  var history = _ref.history;\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      buttonLoading = _useState2[0],\n      setButtonLoading = _useState2[1];\n\n  useEffect(function () {\n    return function () {\n      console.log(\"Edit LeadContact Unmounting\");\n    };\n  }, []);\n\n  var handleSave = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var newHome;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setButtonLoading(true);\n              newHome = [];\n              values.homes.forEach(function (element) {\n                newHome.push({\n                  homes_id: element\n                });\n              });\n              values.homes = newHome;\n              _context.next = 6;\n              return leadContactApi.createLeadContact(values).then(function (data) {\n                console.log(data);\n                notifyUser('Lead Contact Added', 'success');\n                history.push(\"/owner/profile\");\n              }, function (error) {\n                console.log(error.response);\n                notifyUser(JSON.parse(error.response.data).errors[0].message, 'error');\n                setButtonLoading(false);\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSave(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/Profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"Profile\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/lead-contacts/add\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Add Lead Contact\"))), /*#__PURE__*/React.createElement(PageHeader, {\n    className: \"site-page-header\",\n    title: \"Add Lead Contact\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 16,\n    lg: 16,\n    xl: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LeadContactForm, {\n    initialValues: {},\n    handleSave: handleSave,\n    buttonLoading: buttonLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }))));\n};\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    createLeadContact: function createLeadContact() {\n      return dispatch(_createLeadContact());\n    }\n  };\n}\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(AddLeadContact);","map":{"version":3,"sources":["C:/Users/SFelizardo/Desktop/Projects/secondhome/second-home-referrals/src/app/pages/home-owner/profile/add-lead-contact.js"],"names":["React","useEffect","useState","connect","useDispatch","Link","useParams","Row","Col","Input","Card","Skeleton","Breadcrumb","PageHeader","compose","createLeadContact","LeadContactForm","leadContactApi","notifyUser","AddLeadContact","history","dispatch","buttonLoading","setButtonLoading","console","log","handleSave","values","newHome","homes","forEach","element","push","homes_id","then","data","error","response","JSON","parse","errors","message","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { Row, Col, Input, Card, Skeleton, Breadcrumb, PageHeader } from \"antd\";\r\nimport { compose } from \"redux\";\r\nimport { createLeadContact } from \"../../../redux/actions/lead-contact-actions\";\r\nimport LeadContactForm from \"./lead-contact-form\";\r\nimport leadContactApi from \"../../../redux/api/lead-contact-api\";\r\nimport { notifyUser } from \"../../../services/notification-service\";\r\n\r\nconst AddLeadContact = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n  useEffect(() => {\r\n    return () => {\r\n      console.log(\"Edit LeadContact Unmounting\");\r\n    };\r\n  }, []);\r\n\r\n  const handleSave = async (values) => {\r\n    setButtonLoading(true);\r\n    let newHome = [];\r\n    values.homes.forEach(element => {\r\n      newHome.push({ homes_id: element })\r\n    });\r\n    values.homes = newHome\r\n    await leadContactApi.createLeadContact(values).then((data) => {\r\n      console.log(data);\r\n      notifyUser('Lead Contact Added', 'success');\r\n      history.push(\"/owner/profile\");\r\n    },\r\n      (error) => {\r\n        console.log(error.response);\r\n        notifyUser(JSON.parse(error.response.data).errors[0].message, 'error')\r\n        setButtonLoading(false);\r\n      })\r\n\r\n    // history.push(\"/owner/profile\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/owner\">Home</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/owner/Profile\">Profile</Link>\r\n        </Breadcrumb.Item>\r\n\r\n        <Breadcrumb.Item>\r\n          <Link to={`/owner/lead-contacts/add`}>{`Add Lead Contact`}</Link>\r\n        </Breadcrumb.Item>\r\n      </Breadcrumb>\r\n      <PageHeader className=\"site-page-header\" title=\"Add Lead Contact\" />\r\n\r\n      <Row gutter={30}>\r\n        <Col xs={24} sm={24} md={16} lg={16} xl={16}>\r\n          <LeadContactForm initialValues={{}} handleSave={handleSave} buttonLoading={buttonLoading} />\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    createLeadContact: () => dispatch(createLeadContact()),\r\n  };\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(\r\n  AddLeadContact\r\n);\r\n"]},"metadata":{},"sourceType":"module"}