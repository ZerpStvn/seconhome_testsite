{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\src\\\\app\\\\pages\\\\admin\\\\partner\\\\communities\\\\staff\\\\add-staff.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { Row, Col, Button, Form, Input, Card, Select, Breadcrumb, PageHeader, DatePicker, Menu } from \"antd\";\nimport { compose } from \"redux\";\nimport { createStaff as _createStaff, updateStaff } from \"../../../../../redux/actions/staff-actions\";\nimport { staffTitles, staffCredentials, staffLanguages } from \"../../../../../constants/defaultValues\";\nimport moment from 'moment';\nimport UploadPhotos from \"../../../../../components/upload-photos\";\nimport fileAPI from \"../../../../../redux/api/file-api\";\nimport API from \"../../../../../redux/api/staff-api\";\nimport UserService from \"../../../../../services/user-service\";\nimport { notifyUser } from \"../../../../../services/notification-service\";\nvar TextArea = Input.TextArea;\nvar dateFormat = 'YYYY-MM-DD';\nvar viewDateFormat = 'MMM DD, YYYY';\nvar formItemLayout = {\n  labelCol: {\n    span: 6\n  },\n  wrapperCol: {\n    span: 18\n  }\n};\nvar formSubItemLayout = {\n  labelCol: {\n    span: 24\n  },\n  wrapperCol: {\n    span: 24\n  }\n};\n\nvar AddStaff = function AddStaff(_ref) {\n  var history = _ref.history;\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var dispatch = useDispatch();\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      photoList = _useState2[0],\n      setPhotoList = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      dateStarted = _useState4[0],\n      setDateStarted = _useState4[1];\n\n  var user = UserService.getAdminUser();\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      buttonLoading = _useState6[0],\n      setButtonLoading = _useState6[1];\n\n  useEffect(function () {\n    return function () {\n      console.log(\"Edit Staff Unmounting\");\n    };\n  }, []);\n\n  var handleSave = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values) {\n      var photos;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setButtonLoading(true);\n              _context2.next = 3;\n              return getPhotosArray();\n\n            case 3:\n              photos = _context2.sent;\n              values.photos = photos;\n              values.home = id;\n              values.start_date = dateStarted; // dispatch(createStaff(values))\n\n              _context2.next = 9;\n              return API.createStaff(values).then( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(Data) {\n                  return _regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          values.user_created = user.id;\n                          _context.next = 3;\n                          return dispatch(updateStaff(Data.data.id, values));\n\n                        case 3:\n                          notifyUser(\"Details have been saved\", \"success\");\n                          history.push(\"/admin/partners/communities/\" + id + \"/staff\");\n\n                        case 5:\n                        case \"end\":\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleSave(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handelPhotoListChange = function handelPhotoListChange(_ref4) {\n    var fileList = _ref4.fileList,\n        file = _ref4.file;\n    setPhotoList(fileList);\n  };\n\n  var getPhotosArray = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var imageIds, i, photo, response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              imageIds = [];\n              i = 0;\n\n            case 2:\n              if (!(i < photoList.length)) {\n                _context3.next = 15;\n                break;\n              }\n\n              photo = photoList[i];\n\n              if (!photo.id) {\n                _context3.next = 8;\n                break;\n              }\n\n              imageIds.push(photo.id);\n              _context3.next = 12;\n              break;\n\n            case 8:\n              _context3.next = 10;\n              return fileAPI.uploadFile(photo);\n\n            case 10:\n              response = _context3.sent;\n              imageIds.push({\n                directus_files_id: response.data.id\n              });\n\n            case 12:\n              i++;\n              _context3.next = 2;\n              break;\n\n            case 15:\n              return _context3.abrupt(\"return\", imageIds);\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getPhotosArray() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"Communities\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/staff\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, \"Staff\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/staff/add\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Add Staff\"))), /*#__PURE__*/React.createElement(PageHeader, {\n    className: \"site-page-header\",\n    title: \"Add Staff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 16,\n    lg: 16,\n    xl: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    selectedKeys: [\"staff\"],\n    mode: \"horizontal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/profile\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, \"Profile\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"rooms\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/rooms\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, \"Rooms\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"pricing\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/pricing\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, \"Pricing\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"services-amenities\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/services-amenities\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, \"Services & Amenities\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"photos\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/photos\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"Photos\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"staff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/staff\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"Staff\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"Documents\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities/\".concat(id, \"/documents\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }, \"Documents\")))), /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 16,\n    lg: 16,\n    xl: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    layout: \"horizontal\",\n    onFinish: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: \"Basic Details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Staff Name\",\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: \"Please enter Staff Name!\",\n      whitespace: true\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    maxLength: 255,\n    placeholder: \"Add Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Staff Phone\",\n    name: \"phone\",\n    rules: [{\n      required: true,\n      pattern: /^(1\\s?)?(\\d{3}|\\(\\d{3}\\))[\\s\\-]?\\d{3}[\\s\\-]?\\d{4}$/g,\n      message: 'Please input valid number!' // max: 14\n\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    placeholder: \"Add Staff Phone\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Staff Email\",\n    name: \"email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    maxLength: 255,\n    type: \"email\",\n    placeholder: \"Add Staff Email\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Start Date\",\n    name: \"start_date\",\n    rules: [{\n      required: true,\n      message: \"Please enter valid date bbbb\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(DatePicker, {\n    dateFormat: dateFormat,\n    onChange: function onChange(date, dateString) {\n      return setDateStarted(dateString);\n    },\n    value: dateStarted && moment(dateStarted, dateFormat),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Staff Title\",\n    name: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, staffTitles.map(function (_ref6) {\n    var text = _ref6.text,\n        value = _ref6.value;\n    return /*#__PURE__*/React.createElement(Select.Option, {\n      key: value,\n      value: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 21\n      }\n    }, text);\n  }))), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Credentials\",\n    name: \"credentials\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 17\n    }\n  }, staffCredentials.map(function (_ref7) {\n    var text = _ref7.text,\n        value = _ref7.value;\n    return /*#__PURE__*/React.createElement(Select.Option, {\n      key: value,\n      value: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }, text);\n  }))), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Languages\",\n    name: \"languages\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, staffLanguages.map(function (_ref8) {\n    var text = _ref8.text,\n        value = _ref8.value;\n    return /*#__PURE__*/React.createElement(Select.Option, {\n      key: value,\n      value: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }, text);\n  }))), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Biography\",\n    name: \"biography\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    placeholder: \"Add Biography\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, formItemLayout, {\n    label: \"Status\",\n    name: \"status\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Select.Option, {\n    value: \"published\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  }, \"Published\"), /*#__PURE__*/React.createElement(Select.Option, {\n    value: \"draft\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 19\n    }\n  }, \"Draft\")))), /*#__PURE__*/React.createElement(Card, {\n    title: \"Photos\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UploadPhotos, {\n    photoList: photoList,\n    handelPhotoListChange: handelPhotoListChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    loading: buttonLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, \"Save\"))))));\n};\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    createStaff: function createStaff() {\n      return dispatch(_createStaff());\n    }\n  };\n}\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(AddStaff);","map":{"version":3,"sources":["C:/xampp/htdocs/wordpress/dashboard/src/app/pages/admin/partner/communities/staff/add-staff.js"],"names":["React","useEffect","useState","connect","useDispatch","Link","useParams","Row","Col","Button","Form","Input","Card","Select","Breadcrumb","PageHeader","DatePicker","Menu","compose","createStaff","updateStaff","staffTitles","staffCredentials","staffLanguages","moment","UploadPhotos","fileAPI","API","UserService","notifyUser","TextArea","dateFormat","viewDateFormat","formItemLayout","labelCol","span","wrapperCol","formSubItemLayout","AddStaff","history","id","dispatch","useForm","form","photoList","setPhotoList","dateStarted","setDateStarted","user","getAdminUser","buttonLoading","setButtonLoading","console","log","handleSave","values","getPhotosArray","photos","home","start_date","then","Data","user_created","data","push","handelPhotoListChange","fileList","file","imageIds","i","length","photo","uploadFile","response","directus_files_id","required","message","whitespace","pattern","date","dateString","map","text","value","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { Row, Col, Button, Form, Input, Card, Select, Breadcrumb, PageHeader, DatePicker, Menu } from \"antd\";\r\nimport { compose } from \"redux\";\r\nimport { createStaff, updateStaff } from \"../../../../../redux/actions/staff-actions\";\r\nimport { staffTitles, staffCredentials, staffLanguages } from \"../../../../../constants/defaultValues\";\r\nimport moment from 'moment';\r\nimport UploadPhotos from \"../../../../../components/upload-photos\";\r\nimport fileAPI from \"../../../../../redux/api/file-api\";\r\nimport API from \"../../../../../redux/api/staff-api\";\r\nimport UserService from \"../../../../../services/user-service\";\r\nimport { notifyUser } from \"../../../../../services/notification-service\";\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst dateFormat = 'YYYY-MM-DD';\r\nconst viewDateFormat = 'MMM DD, YYYY';\r\n\r\nconst formItemLayout = {\r\n  labelCol: { span: 6 },\r\n  wrapperCol: { span: 18 },\r\n};\r\n\r\nconst formSubItemLayout = {\r\n  labelCol: { span: 24 },\r\n  wrapperCol: { span: 24 },\r\n};\r\n\r\n\r\nconst AddStaff = ({ history }) => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n  const [photoList, setPhotoList] = useState([]);\r\n  const [dateStarted, setDateStarted] = useState('');\r\n  const user = UserService.getAdminUser();\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    return () => {\r\n      console.log(\"Edit Staff Unmounting\");\r\n    };\r\n  }, []);\r\n\r\n  const handleSave = async (values) => {\r\n    setButtonLoading(true);\r\n    const photos = await getPhotosArray();\r\n    values.photos = photos;\r\n    values.home = id;\r\n    values.start_date = dateStarted;\r\n    // dispatch(createStaff(values))\r\n    await API.createStaff(values).then(async (Data) => {\r\n      values.user_created = user.id;\r\n      await dispatch(updateStaff(Data.data.id, values));\r\n      notifyUser(\"Details have been saved\", \"success\");\r\n      history.push(\"/admin/partners/communities/\" + id + \"/staff\")\r\n    });\r\n\r\n    // history.push(\"/admin/partners/communities/\" + id + \"/staff\")\r\n  };\r\n\r\n\r\n  const handelPhotoListChange = ({ fileList, file }) => {\r\n    setPhotoList(fileList)\r\n  }\r\n\r\n  const getPhotosArray = async () => {\r\n    let imageIds = [];\r\n    for (let i = 0; i < photoList.length; i++) {\r\n      let photo = photoList[i];\r\n      if (photo.id) {\r\n        imageIds.push(photo.id)\r\n      } else {\r\n        const response = await fileAPI.uploadFile(photo);\r\n        imageIds.push({ directus_files_id: response.data.id })\r\n      }\r\n    }\r\n    return imageIds;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/admin/partners\">Home</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/admin/partners/communities\">Communities</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to={`/admin/partners/communities/${id}/staff`}>Staff</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to={`/admin/partners/communities/${id}/staff/add`}>Add Staff</Link>\r\n        </Breadcrumb.Item>\r\n\r\n      </Breadcrumb>\r\n      <PageHeader className=\"site-page-header\" title=\"Add Staff\" />\r\n\r\n\r\n      <Row gutter={30}>\r\n        <Col xs={24} sm={24} md={16} lg={16} xl={16}>\r\n          <Menu selectedKeys={[\"staff\"]} mode=\"horizontal\">\r\n            <Menu.Item key=\"profile\" >\r\n              <Link to={`/admin/partners/communities/${id}/profile`}>Profile</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"rooms\">\r\n              <Link to={`/admin/partners/communities/${id}/rooms`}>Rooms</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"pricing\">\r\n              <Link to={`/admin/partners/communities/${id}/pricing`}>Pricing</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"services-amenities\" >\r\n              <Link to={`/admin/partners/communities/${id}/services-amenities`}>Services & Amenities</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"photos\" >\r\n              <Link to={`/admin/partners/communities/${id}/photos`}>Photos</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"staff\" >\r\n              <Link to={`/admin/partners/communities/${id}/staff`}>Staff</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"Documents\" >\r\n              <Link to={`/admin/partners/communities/${id}/documents`}>Documents</Link>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Col>\r\n        <Col xs={24} sm={24} md={16} lg={16} xl={16}>\r\n          <Form\r\n            form={form}\r\n            layout={\"horizontal\"}\r\n            onFinish={handleSave}\r\n          >\r\n            <Card\r\n              title=\"Basic Details\"\r\n            >\r\n              <Form.Item\r\n                {...formItemLayout}\r\n                label=\"Staff Name\"\r\n                name=\"name\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please enter Staff Name!\",\r\n                    whitespace: true,\r\n                  },\r\n                ]}\r\n              >\r\n                <TextArea\r\n                  maxLength={255}\r\n\r\n                  placeholder=\"Add Name\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item {...formItemLayout} label=\"Staff Phone\" name=\"phone\" rules={[\r\n                {\r\n                  required: true,\r\n                  pattern: /^(1\\s?)?(\\d{3}|\\(\\d{3}\\))[\\s\\-]?\\d{3}[\\s\\-]?\\d{4}$/g,\r\n                  message: 'Please input valid number!',\r\n                  // max: 14\r\n                },\r\n              ]}>\r\n                <TextArea placeholder=\"Add Staff Phone\" />\r\n              </Form.Item>\r\n              <Form.Item {...formItemLayout} label=\"Staff Email\" name=\"email\" >\r\n                <TextArea maxLength={255} type=\"email\" placeholder=\"Add Staff Email\" />\r\n              </Form.Item>\r\n              <Form.Item {...formItemLayout} label=\"Start Date\" name=\"start_date\" rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please enter valid date bbbb\",\r\n                }\r\n              ]}>\r\n                <DatePicker dateFormat={dateFormat} onChange={(date, dateString) => setDateStarted(dateString)} value={dateStarted && moment(dateStarted, dateFormat)} />\r\n              </Form.Item>\r\n              <Form.Item {...formItemLayout} label=\"Staff Title\" name=\"title\" >\r\n                <Select >\r\n                  {staffTitles.map(({ text, value }) =>\r\n                    <Select.Option key={value} value={value}>{text}</Select.Option>\r\n                  )}\r\n                </Select>\r\n              </Form.Item>\r\n              <Form.Item {...formItemLayout} label=\"Credentials\" name=\"credentials\" >\r\n                <Select >\r\n                  {staffCredentials.map(({ text, value }) =>\r\n                    <Select.Option key={value} value={value}>{text}</Select.Option>\r\n                  )}\r\n                </Select>\r\n              </Form.Item>\r\n              <Form.Item {...formItemLayout} label=\"Languages\" name=\"languages\" >\r\n                <Select mode=\"multiple\" >\r\n                  {staffLanguages.map(({ text, value }) =>\r\n                    <Select.Option key={value} value={value}>{text}</Select.Option>\r\n                  )}\r\n                </Select>\r\n              </Form.Item>\r\n              <Form.Item {...formItemLayout} label=\"Biography\" name=\"biography\" >\r\n                <TextArea placeholder=\"Add Biography\" />\r\n              </Form.Item>\r\n              <Form.Item {...formItemLayout} label=\"Status\" name=\"status\" >\r\n                <Select  >\r\n                  <Select.Option value=\"published\">Published</Select.Option>\r\n                  <Select.Option value=\"draft\">Draft</Select.Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Card>\r\n            <Card\r\n              title=\"Photos\"\r\n            >\r\n              <UploadPhotos photoList={photoList} handelPhotoListChange={handelPhotoListChange} />\r\n            </Card>\r\n\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\" loading={buttonLoading}>\r\n                Save\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n\r\n\r\n\r\n    </>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    createStaff: () => dispatch(createStaff()),\r\n  };\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(AddStaff);"]},"metadata":{},"sourceType":"module"}