{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\src\\\\app\\\\pages\\\\login\\\\reset-password.js\";\n\nimport { Form, Input, Button, Checkbox, Row, Col, Typography, Spin } from \"antd\";\nimport { UserOutlined, LockOutlined, MailOutlined } from \"@ant-design/icons\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { resetPassword } from \"../../redux/actions/auth-actions\";\nimport { useDispatch } from \"react-redux\";\nimport { notifyUser } from \"../../services/notification-service\";\nimport { ReactComponent as Logo } from \"@svgr/webpack?-prettier,-svgo!../../../app/assets/images/second-homes-logo.svg\";\n\nvar ResetPassword = function ResetPassword(_ref) {\n  var history = _ref.history;\n  var Token = history.location.search.replace(\"?token=\", \"\");\n  var dispatch = useDispatch();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      submitted = _useState2[0],\n      setSubmitted = _useState2[1];\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setSubmitted(true);\n              data = {\n                \"token\": Token,\n                \"password\": values.password\n              };\n              _context.next = 5;\n              return resetPassword(data);\n\n            case 5:\n              // console.log(response);\n              notifyUser(\"Reset Successfully, Please login again\", \"success\");\n              history.push(\"/\");\n              setSubmitted(false);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0, \"errorerrorerror\");\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function onFinish(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    className: \"login-page\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 12,\n    className: \"pull-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidemenu-trigger logo-login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Spin, {\n    spinning: submitted,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    name: \"normal_login\",\n    className: \"login_form\",\n    onFinish: onFinish,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"password\",\n    label: \"Password\",\n    rules: [{\n      required: true,\n      message: 'Please input your password!'\n    }],\n    hasFeedback: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"confirm\",\n    label: \"Confirm Password\",\n    dependencies: ['password'],\n    hasFeedback: true,\n    rules: [{\n      required: true,\n      message: 'Please confirm your password!'\n    }, function (_ref3) {\n      var getFieldValue = _ref3.getFieldValue;\n      return {\n        validator: function validator(_, value) {\n          if (!value || getFieldValue('password') === value) {\n            return Promise.resolve();\n          }\n\n          return Promise.reject(new Error('The two passwords that you entered do not match!'));\n        }\n      };\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button btn-style\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  }, \"Reset Password\")))))));\n};\n\nfunction mapStateToProps(state) {\n  return {};\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {};\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ResetPassword);","map":{"version":3,"sources":["C:/xampp/htdocs/wordpress/dashboard/src/app/pages/login/reset-password.js"],"names":["Form","Input","Button","Checkbox","Row","Col","Typography","Spin","UserOutlined","LockOutlined","MailOutlined","React","useState","connect","resetPassword","useDispatch","notifyUser","ResetPassword","history","Token","location","search","replace","dispatch","submitted","setSubmitted","onFinish","values","data","password","push","console","log","required","message","getFieldValue","validator","_","value","Promise","resolve","reject","Error","mapStateToProps","state","mapDispatchToProps"],"mappings":"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","sourcesContent":["import { Form, Input, Button, Checkbox, Row, Col, Typography, Spin } from \"antd\";\r\nimport { UserOutlined, LockOutlined, MailOutlined } from \"@ant-design/icons\";\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { resetPassword } from \"../../redux/actions/auth-actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { notifyUser } from \"../../services/notification-service\";\r\nimport { ReactComponent as Logo } from \"../../../app/assets/images/second-homes-logo.svg\";\r\n\r\n\r\nconst ResetPassword = ({ history }) => {\r\n    const Token = history.location.search.replace(\"?token=\", \"\");\r\n    const dispatch = useDispatch();\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    const onFinish = async (values) => {\r\n        try {\r\n            setSubmitted(true);\r\n            let data = {\r\n                \"token\": Token,\r\n                \"password\": values.password\r\n            }\r\n            await resetPassword(data);\r\n            // console.log(response);\r\n            notifyUser(\"Reset Successfully, Please login again\", \"success\");\r\n            history.push(\"/\");\r\n            setSubmitted(false);\r\n        } catch (error) {\r\n            console.log(error, \"errorerrorerror\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Row gutter={30} className=\"login-page\">\r\n                <Col xs={24} sm={24} md={12} className=\"pull-right\">\r\n                    <div className=\"login-form\">\r\n                        <div className=\"sidemenu-trigger logo-login\">\r\n                            <Logo />\r\n                        </div>\r\n\r\n                        <Spin spinning={submitted}></Spin>\r\n                        <Form\r\n                            name=\"normal_login\"\r\n                            className=\"login_form\"\r\n                            onFinish={onFinish}\r\n                        >\r\n                            <Form.Item\r\n                                name=\"password\"\r\n                                label=\"Password\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please input your password!',\r\n                                    },\r\n                                ]}\r\n                                hasFeedback\r\n                            >\r\n                                <Input.Password />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                name=\"confirm\"\r\n                                label=\"Confirm Password\"\r\n                                dependencies={['password']}\r\n                                hasFeedback\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'Please confirm your password!',\r\n                                    },\r\n                                    ({ getFieldValue }) => ({\r\n                                        validator(_, value) {\r\n                                            if (!value || getFieldValue('password') === value) {\r\n                                                return Promise.resolve();\r\n                                            }\r\n\r\n                                            return Promise.reject(new Error('The two passwords that you entered do not match!'));\r\n                                        },\r\n                                    }),\r\n                                ]}\r\n                            >\r\n                                <Input.Password />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item>\r\n                                <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button btn-style\">\r\n                                    Reset Password\r\n                                </Button>\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {};\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {};\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ResetPassword);\r\n"]},"metadata":{},"sourceType":"module"}