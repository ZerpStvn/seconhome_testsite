{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\src\\\\app\\\\pages\\\\home-owner\\\\communities\\\\rooms\\\\edit-rooms.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { List, Divider, Row, Col, Button, Tabs, Form, Input, Card, Image, Select, Switch, Skeleton, Breadcrumb, PageHeader, InputNumber, Menu, Spin, Tooltip } from \"antd\";\nimport { compose } from \"redux\";\nimport { identity } from \"ramda\";\nimport Config from \"../../../../config\";\nimport { getRoomById as _getRoomById, updateRoom as _updateRoom, cloneRoom as _cloneRoom } from \"../../../../redux/actions/room-actions\";\nimport { roomTypesOptions, bathroomTypes, financialTypes, roomCareTypesOptions, roomAmenitiesOptions } from \"../../../../constants/defaultValues\";\nimport { getNumberWithOrdinal } from \"../../../../helpers/number-helper\";\nimport UploadPhotos from \"../../../../components/upload-photos\";\nimport UploadDocuments from \"../../../../components/upload-documents\";\nimport fileAPI from \"../../../../redux/api/file-api\";\nimport { InfoCircleOutlined } from \"@ant-design/icons\";\nimport { humanize } from \"../../../../helpers/string-helper\";\nvar TabPane = Tabs.TabPane;\nvar TextArea = Input.TextArea;\nvar Meta = Card.Meta;\nvar floorLevelOptions = [];\nvar bathroomOptions = [];\nvar financialOptions = [];\n{\n  _toConsumableArray(Array(21).keys()).map(function (value) {\n    if (value > 0) {\n      floorLevelOptions.push( /*#__PURE__*/React.createElement(Select.Option, {\n        key: value,\n        value: value,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      }, \"\".concat(getNumberWithOrdinal(value), \" Floor\")));\n    }\n  });\n}\n{\n  Object.entries(bathroomTypes).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    return bathroomOptions.push( /*#__PURE__*/React.createElement(Select.Option, {\n      key: key,\n      value: key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, value));\n  });\n}\n{\n  Object.entries(financialTypes).forEach(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        key = _ref4[0],\n        value = _ref4[1];\n\n    return financialOptions.push( /*#__PURE__*/React.createElement(Select.Option, {\n      key: key,\n      value: key,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, value));\n  });\n}\n\nvar EditRoom = function EditRoom(_ref5) {\n  var editRoom = _ref5.editRoom,\n      editRoomLoading = _ref5.editRoomLoading,\n      history = _ref5.history;\n\n  var _useParams = useParams(),\n      id = _useParams.id,\n      roomId = _useParams.roomId;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      non_ambulatory = _useState2[0],\n      setNonAmbulatory = _useState2[1];\n\n  var dispatch = useDispatch();\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      photoList = _useState4[0],\n      setPhotoList = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      typeValue = _useState6[0],\n      setTypeValue = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      profilePhotoList = _useState8[0],\n      setProfilePhotoList = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      documentList = _useState10[0],\n      setDocumentList = _useState10[1];\n\n  var _useState11 = useState(editRoomLoading),\n      _useState12 = _slicedToArray(_useState11, 2),\n      loading = _useState12[0],\n      setLoading = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      buttonLoading = _useState14[0],\n      setButtonLoading = _useState14[1];\n\n  useEffect(function () {\n    dispatch(_getRoomById(roomId, {\n      fields: \"*,photos.*,photos.directus_files_id.*,documents.*,documents.directus_files_id.*,profile.*\"\n    }));\n\n    if (editRoom) {\n      setTypeValue(editRoom.type);\n      form.setFieldsValue(editRoom);\n      setNonAmbulatory(editRoom.non_ambulatory);\n      var _photoList = [];\n      editRoom.photos.map(function (_ref6) {\n        var id = _ref6.id,\n            directus_files_id = _ref6.directus_files_id;\n\n        _photoList.push({\n          uid: directus_files_id.id,\n          id: id,\n          status: \"done\",\n          url: \"\".concat(Config.API, \"/assets/\").concat(directus_files_id.id),\n          name: directus_files_id.filename_download\n        });\n      });\n      var _documentList = [];\n      editRoom.documents.map(function (_ref7) {\n        var id = _ref7.id,\n            directus_files_id = _ref7.directus_files_id;\n\n        _documentList.push({\n          uid: directus_files_id.id,\n          id: id,\n          name: directus_files_id.filename_download,\n          type: directus_files_id.type\n        });\n      });\n      setPhotoList(_photoList);\n      setDocumentList(_documentList);\n      setProfilePhotoList(editRoom.profile ? [{\n        uid: editRoom.profile.id,\n        id: editRoom.profile.id,\n        name: editRoom.profile.filename_download,\n        status: \"done\",\n        url: \"\".concat(Config.API, \"/assets/\").concat(editRoom.profile.id)\n      }] : []);\n      setLoading(editRoomLoading);\n    }\n\n    return function () {\n      console.log(\"Edit Room Unmounting\");\n    };\n  }, [editRoomLoading]);\n\n  var handleSave = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var photos, documents, profile, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setButtonLoading(true);\n              values.non_ambulatory = non_ambulatory;\n              _context.next = 4;\n              return getFilesArray(photoList);\n\n            case 4:\n              photos = _context.sent;\n              values.photos = photos;\n              _context.next = 8;\n              return getFilesArray(documentList);\n\n            case 8:\n              documents = _context.sent;\n              values.documents = documents;\n              _context.next = 12;\n              return getProfilePhotoId(profilePhotoList);\n\n            case 12:\n              profile = _context.sent;\n              values.profile = profile;\n\n              if (typeValue !== values.type) {\n                values.availability = \"no\";\n              }\n\n              _context.next = 17;\n              return dispatch(_updateRoom(roomId, values));\n\n            case 17:\n              response = _context.sent;\n              // console.log(response);\n              history.push(\"/owner/communities/\" + id + \"/rooms\");\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSave(_x) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var handelPhotoListChange = function handelPhotoListChange(_ref9) {\n    var fileList = _ref9.fileList,\n        file = _ref9.file;\n    setPhotoList(fileList);\n  };\n\n  var handelProfilePhotoListChange = function handelProfilePhotoListChange(_ref10) {\n    var fileList = _ref10.fileList,\n        file = _ref10.file;\n    setProfilePhotoList(fileList);\n  };\n\n  var handelDocumentListChange = function handelDocumentListChange(_ref11) {\n    var fileList = _ref11.fileList,\n        file = _ref11.file;\n    console.log(file);\n    setDocumentList(fileList);\n  };\n\n  var getFilesArray = /*#__PURE__*/function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(fileList) {\n      var fileIds, i, file, response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fileIds = [];\n              i = 0;\n\n            case 2:\n              if (!(i < fileList.length)) {\n                _context2.next = 15;\n                break;\n              }\n\n              file = fileList[i];\n\n              if (!file.id) {\n                _context2.next = 8;\n                break;\n              }\n\n              fileIds.push(file.id);\n              _context2.next = 12;\n              break;\n\n            case 8:\n              _context2.next = 10;\n              return fileAPI.uploadFile(file);\n\n            case 10:\n              response = _context2.sent;\n              fileIds.push({\n                directus_files_id: response.data.id\n              });\n\n            case 12:\n              i++;\n              _context2.next = 2;\n              break;\n\n            case 15:\n              return _context2.abrupt(\"return\", fileIds);\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getFilesArray(_x2) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  var getProfilePhotoId = /*#__PURE__*/function () {\n    var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(fileList) {\n      var file, response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!fileList.length) {\n                _context3.next = 10;\n                break;\n              }\n\n              file = fileList[0];\n\n              if (!file.id) {\n                _context3.next = 6;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", file.id);\n\n            case 6:\n              _context3.next = 8;\n              return fileAPI.uploadFile(file);\n\n            case 8:\n              response = _context3.sent;\n              return _context3.abrupt(\"return\", response.data.id);\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getProfilePhotoId(_x3) {\n      return _ref13.apply(this, arguments);\n    };\n  }();\n\n  var onCloneRoomClick = function onCloneRoomClick(roomId) {\n    setLoading(true);\n    dispatch(_cloneRoom(roomId));\n    history.push(\"/owner/communities/\" + id + \"/rooms\");\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, \"Communities\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/rooms\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 11\n    }\n  }, \"Rooms\")), editRoom && /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/rooms/\").concat(roomId),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"\".concat(humanize(editRoom.name))))), /*#__PURE__*/React.createElement(PageHeader, {\n    className: \"site-page-header\",\n    title: editRoom && \"\".concat(humanize(editRoom.name)),\n    extra: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      disabled: loading,\n      onClick: function onClick() {\n        return onCloneRoomClick(editRoom.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 13\n      }\n    }, \"Clone Room\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: function onClick() {\n        return form.submit();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }\n    }, \"Save\")),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Skeleton, {\n    loading: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }\n  }, editRoom && /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 8,\n    lg: 8,\n    xl: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    hoverable: true,\n    cover: editRoom.profile && /*#__PURE__*/React.createElement(\"img\", {\n      src: \"\".concat(Config.API, \"/assets/\").concat(editRoom.profile.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Meta, {\n    title: humanize(editRoom.name),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 16,\n    lg: 16,\n    xl: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    selectedKeys: [\"rooms\"],\n    mode: \"horizontal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"profile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/profile\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 19\n    }\n  }, \"Profile\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"rooms\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/rooms\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 19\n    }\n  }, \"Rooms\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"pricing\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/pricing\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 19\n    }\n  }, \"Pricing\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"services-amenities\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/services-amenities\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 19\n    }\n  }, \"Services & Amenities\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"photos\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/photos\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 19\n    }\n  }, \"Photos\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"staff\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/staff\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 19\n    }\n  }, \"Staff\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"Documents\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/owner/communities/\".concat(id, \"/documents\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 19\n    }\n  }, \"Documents\"))), /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    layout: \"horizontal\",\n    onFinish: handleSave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    title: \"Basic Details\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Room Name\",\n    name: \"name\",\n    rules: [{\n      required: true,\n      message: \"Please enter Room Name!\",\n      whitespace: true\n    }],\n    tooltip: \"Board and care room? Use the room number used for licensing.\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    maxLength: 255,\n    placeholder: \"Add Name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Room Type\",\n    name: \"type\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 21\n    }\n  }, roomTypesOptions.map(function (_ref14) {\n    var text = _ref14.text,\n        value = _ref14.value;\n    return /*#__PURE__*/React.createElement(Select.Option, {\n      value: value,\n      key: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 25\n      }\n    }, \" \", text);\n  }))), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Size (Sq. Ft.)\",\n    name: \"size\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Base Rate\",\n    name: \"base_rate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(InputNumber, {\n    formatter: function formatter(value) {\n      return \"$ \".concat(value).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n    parser: function parser(value) {\n      return value.replace(/\\$\\s?|(,*)/g, \"\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Room Care Type\",\n    name: \"room_care_type\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    disabled: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 21\n    }\n  }, roomCareTypesOptions.map(function (_ref15) {\n    var text = _ref15.text,\n        value = _ref15.value;\n    return /*#__PURE__*/React.createElement(Select.Option, {\n      value: value,\n      key: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 25\n      }\n    }, \" \", text);\n  }))), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Bathroom Type\",\n    name: \"bathroom_type\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 21\n    }\n  }, bathroomOptions)), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Financial Type\",\n    name: \"financial_type\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 21\n    }\n  }, financialOptions)), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Floor Level\",\n    name: \"floor_level\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 21\n    }\n  }, floorLevelOptions)), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Non Ambulatory\",\n    name: \"non_ambulatory\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    checkedChildren: \"Yes\",\n    unCheckedChildren: \"No\",\n    checked: non_ambulatory,\n    onChange: function onChange(checked) {\n      return setNonAmbulatory(checked);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Room Amenities\",\n    name: \"room_amenities\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 21\n    }\n  }, roomAmenitiesOptions.map(function (_ref16) {\n    var text = _ref16.text,\n        value = _ref16.value;\n    return /*#__PURE__*/React.createElement(Select.Option, {\n      value: value,\n      key: value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 25\n      }\n    }, \" \", text);\n  })))), /*#__PURE__*/React.createElement(Card, {\n    title: /*#__PURE__*/React.createElement(React.Fragment, null, \"Profile Photo\", \" \", /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"Image ratio should be in 600x400\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InfoCircleOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 23\n      }\n    }))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(UploadPhotos, {\n    multiple: false,\n    photoList: profilePhotoList,\n    handelPhotoListChange: handelProfilePhotoListChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Card, {\n    title: /*#__PURE__*/React.createElement(React.Fragment, null, \"Photos\", \" \", /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"Image ratio should be in 600x400\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InfoCircleOutlined, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 23\n      }\n    }))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(UploadPhotos, {\n    multiple: true,\n    photoList: photoList,\n    handelPhotoListChange: handelPhotoListChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Card, {\n    title: \"Floor Plans\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(UploadDocuments, {\n    documentList: documentList,\n    handelDocumentListChange: handelDocumentListChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    loading: buttonLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 19\n    }\n  }, \"Save\")))))));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    editRoom: state.room.editRoom,\n    editRoomLoading: state.room.editRoomLoading\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    getRoomById: function getRoomById() {\n      return dispatch(_getRoomById());\n    },\n    updateRoom: function updateRoom() {\n      return dispatch(_updateRoom());\n    },\n    cloneRoom: function cloneRoom() {\n      return dispatch(_cloneRoom());\n    }\n  };\n}\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(EditRoom);","map":{"version":3,"sources":["C:/xampp/htdocs/wordpress/dashboard/src/app/pages/home-owner/communities/rooms/edit-rooms.js"],"names":["React","useEffect","useState","connect","useDispatch","Link","useParams","List","Divider","Row","Col","Button","Tabs","Form","Input","Card","Image","Select","Switch","Skeleton","Breadcrumb","PageHeader","InputNumber","Menu","Spin","Tooltip","compose","identity","Config","getRoomById","updateRoom","cloneRoom","roomTypesOptions","bathroomTypes","financialTypes","roomCareTypesOptions","roomAmenitiesOptions","getNumberWithOrdinal","UploadPhotos","UploadDocuments","fileAPI","InfoCircleOutlined","humanize","TabPane","TextArea","Meta","floorLevelOptions","bathroomOptions","financialOptions","Array","keys","map","value","push","Object","entries","forEach","key","EditRoom","editRoom","editRoomLoading","history","id","roomId","non_ambulatory","setNonAmbulatory","dispatch","useForm","form","photoList","setPhotoList","typeValue","setTypeValue","profilePhotoList","setProfilePhotoList","documentList","setDocumentList","loading","setLoading","buttonLoading","setButtonLoading","fields","type","setFieldsValue","_photoList","photos","directus_files_id","uid","status","url","API","name","filename_download","_documentList","documents","profile","console","log","handleSave","values","getFilesArray","getProfilePhotoId","availability","response","handelPhotoListChange","fileList","file","handelProfilePhotoListChange","handelDocumentListChange","fileIds","i","length","uploadFile","data","onCloneRoomClick","submit","required","message","whitespace","text","replace","checked","mapStateToProps","state","room","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { List, Divider, Row, Col, Button, Tabs, Form, Input, Card, Image, Select, Switch, Skeleton, Breadcrumb, PageHeader, InputNumber, Menu, Spin, Tooltip, } from \"antd\";\r\nimport { compose } from \"redux\";\r\nimport { identity } from \"ramda\";\r\nimport Config from \"../../../../config\";\r\nimport {\r\n  getRoomById,\r\n  updateRoom,\r\n  cloneRoom,\r\n} from \"../../../../redux/actions/room-actions\";\r\nimport {\r\n  roomTypesOptions,\r\n  bathroomTypes,\r\n  financialTypes,\r\n  roomCareTypesOptions,\r\n  roomAmenitiesOptions,\r\n} from \"../../../../constants/defaultValues\";\r\nimport { getNumberWithOrdinal } from \"../../../../helpers/number-helper\";\r\nimport UploadPhotos from \"../../../../components/upload-photos\";\r\nimport UploadDocuments from \"../../../../components/upload-documents\";\r\nimport fileAPI from \"../../../../redux/api/file-api\";\r\nimport { InfoCircleOutlined } from \"@ant-design/icons\";\r\nimport { humanize } from \"../../../../helpers/string-helper\";\r\n\r\nconst { TabPane } = Tabs;\r\nconst { TextArea } = Input;\r\nconst { Meta } = Card;\r\n\r\nconst floorLevelOptions = [];\r\nconst bathroomOptions = [];\r\nconst financialOptions = [];\r\n\r\n{\r\n  [...Array(21).keys()].map((value) => {\r\n    if (value > 0) {\r\n      floorLevelOptions.push(\r\n        <Select.Option key={value} value={value}>{`${getNumberWithOrdinal(\r\n          value\r\n        )} Floor`}</Select.Option>\r\n      );\r\n    }\r\n  });\r\n}\r\n\r\n{\r\n  Object.entries(bathroomTypes).forEach(([key, value]) =>\r\n    bathroomOptions.push(\r\n      <Select.Option key={key} value={key}>\r\n        {value}\r\n      </Select.Option>\r\n    )\r\n  );\r\n}\r\n{\r\n  Object.entries(financialTypes).forEach(([key, value]) =>\r\n    financialOptions.push(\r\n      <Select.Option key={key} value={key}>\r\n        {value}\r\n      </Select.Option>\r\n    )\r\n  );\r\n}\r\n\r\nconst EditRoom = ({ editRoom, editRoomLoading, history }) => {\r\n  const { id, roomId } = useParams();\r\n  const [non_ambulatory, setNonAmbulatory] = useState(true);\r\n  const dispatch = useDispatch();\r\n  const [form] = Form.useForm();\r\n  const [photoList, setPhotoList] = useState([]);\r\n  const [typeValue, setTypeValue] = useState();\r\n  const [profilePhotoList, setProfilePhotoList] = useState([]);\r\n  const [documentList, setDocumentList] = useState([]);\r\n  const [loading, setLoading] = useState(editRoomLoading);\r\n  const [buttonLoading, setButtonLoading] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      getRoomById(roomId, {\r\n        fields:\r\n          \"*,photos.*,photos.directus_files_id.*,documents.*,documents.directus_files_id.*,profile.*\",\r\n      })\r\n    );\r\n\r\n    if (editRoom) {\r\n      setTypeValue(editRoom.type);\r\n      form.setFieldsValue(editRoom);\r\n      setNonAmbulatory(editRoom.non_ambulatory);\r\n      let _photoList = [];\r\n      editRoom.photos.map(({ id, directus_files_id }) => {\r\n        _photoList.push({\r\n          uid: directus_files_id.id,\r\n          id: id,\r\n          status: \"done\",\r\n          url: `${Config.API}/assets/${directus_files_id.id}`,\r\n          name: directus_files_id.filename_download,\r\n        });\r\n      });\r\n\r\n      let _documentList = [];\r\n      editRoom.documents.map(({ id, directus_files_id }) => {\r\n        _documentList.push({\r\n          uid: directus_files_id.id,\r\n          id: id,\r\n          name: directus_files_id.filename_download,\r\n          type: directus_files_id.type,\r\n        });\r\n      });\r\n\r\n      setPhotoList(_photoList);\r\n      setDocumentList(_documentList);\r\n      setProfilePhotoList(\r\n        editRoom.profile\r\n          ? [\r\n            {\r\n              uid: editRoom.profile.id,\r\n              id: editRoom.profile.id,\r\n              name: editRoom.profile.filename_download,\r\n              status: \"done\",\r\n              url: `${Config.API}/assets/${editRoom.profile.id}`,\r\n            },\r\n          ]\r\n          : []\r\n      );\r\n      setLoading(editRoomLoading);\r\n    }\r\n\r\n    return () => {\r\n      console.log(\"Edit Room Unmounting\");\r\n    };\r\n  }, [editRoomLoading]);\r\n\r\n  const handleSave = async (values) => {\r\n    setButtonLoading(true);\r\n    values.non_ambulatory = non_ambulatory;\r\n    const photos = await getFilesArray(photoList);\r\n    values.photos = photos;\r\n\r\n    const documents = await getFilesArray(documentList);\r\n    values.documents = documents;\r\n    const profile = await getProfilePhotoId(profilePhotoList);\r\n    values.profile = profile;\r\n    if (typeValue !== values.type) {\r\n      values.availability = \"no\"\r\n    }\r\n    const response = await dispatch(updateRoom(roomId, values));\r\n    // console.log(response);\r\n    history.push(\"/owner/communities/\" + id + \"/rooms\");\r\n  };\r\n\r\n  const handelPhotoListChange = ({ fileList, file }) => {\r\n    setPhotoList(fileList);\r\n  };\r\n  const handelProfilePhotoListChange = ({ fileList, file }) => {\r\n    setProfilePhotoList(fileList);\r\n  };\r\n  const handelDocumentListChange = ({ fileList, file }) => {\r\n    console.log(file);\r\n    setDocumentList(fileList);\r\n  };\r\n\r\n  const getFilesArray = async (fileList) => {\r\n    let fileIds = [];\r\n    for (let i = 0; i < fileList.length; i++) {\r\n      let file = fileList[i];\r\n      if (file.id) {\r\n        fileIds.push(file.id);\r\n      } else {\r\n        const response = await fileAPI.uploadFile(file);\r\n        fileIds.push({ directus_files_id: response.data.id });\r\n      }\r\n    }\r\n    return fileIds;\r\n  };\r\n\r\n  const getProfilePhotoId = async (fileList) => {\r\n    if (fileList.length) {\r\n      let file = fileList[0];\r\n      if (file.id) {\r\n        return file.id;\r\n      } else {\r\n        const response = await fileAPI.uploadFile(file);\r\n        return response.data.id;\r\n      }\r\n    }\r\n  };\r\n\r\n  const onCloneRoomClick = (roomId) => {\r\n    setLoading(true);\r\n    dispatch(cloneRoom(roomId));\r\n    history.push(\"/owner/communities/\" + id + \"/rooms\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/owner\">Home</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to=\"/owner/communities\">Communities</Link>\r\n        </Breadcrumb.Item>\r\n        <Breadcrumb.Item>\r\n          <Link to={`/owner/communities/${id}/rooms`}>Rooms</Link>\r\n        </Breadcrumb.Item>\r\n        {editRoom && (\r\n          <Breadcrumb.Item>\r\n            <Link\r\n              to={`/owner/communities/${id}/rooms/${roomId}`}\r\n            >{`${humanize(editRoom.name)}`}</Link>\r\n          </Breadcrumb.Item>\r\n        )}\r\n      </Breadcrumb>\r\n      <PageHeader\r\n        className=\"site-page-header\"\r\n        title={editRoom && `${humanize(editRoom.name)}`}\r\n        extra={\r\n          <>\r\n            <Button\r\n              disabled={loading}\r\n              onClick={() => onCloneRoomClick(editRoom.id)}\r\n            >\r\n              Clone Room\r\n            </Button>\r\n            <Button\r\n\r\n              onClick={() => form.submit()}\r\n            >\r\n              Save\r\n            </Button>\r\n          </>\r\n        }\r\n      />\r\n      <Skeleton loading={loading}>\r\n        {editRoom && (\r\n          <Row gutter={30}>\r\n            <Col xs={24} sm={24} md={8} lg={8} xl={8}>\r\n              <Card\r\n                hoverable\r\n                cover={\r\n                  editRoom.profile && (\r\n                    <img src={`${Config.API}/assets/${editRoom.profile.id}`} />\r\n                  )\r\n                }\r\n              >\r\n                <Meta title={humanize(editRoom.name)} />\r\n              </Card>\r\n            </Col>\r\n            <Col xs={24} sm={24} md={16} lg={16} xl={16}>\r\n              <Menu selectedKeys={[\"rooms\"]} mode=\"horizontal\">\r\n                <Menu.Item key=\"profile\">\r\n                  <Link to={`/owner/communities/${id}/profile`}>Profile</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"rooms\">\r\n                  <Link to={`/owner/communities/${id}/rooms`}>Rooms</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"pricing\">\r\n                  <Link to={`/owner/communities/${id}/pricing`}>Pricing</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"services-amenities\">\r\n                  <Link to={`/owner/communities/${id}/services-amenities`}>\r\n                    Services & Amenities\r\n                  </Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"photos\">\r\n                  <Link to={`/owner/communities/${id}/photos`}>Photos</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"staff\">\r\n                  <Link to={`/owner/communities/${id}/staff`}>Staff</Link>\r\n                </Menu.Item>\r\n                <Menu.Item key=\"Documents\">\r\n                  <Link to={`/owner/communities/${id}/documents`}>\r\n                    Documents\r\n                  </Link>\r\n                </Menu.Item>\r\n              </Menu>\r\n              <Form form={form} layout={\"horizontal\"} onFinish={handleSave}>\r\n                <Card title=\"Basic Details\">\r\n                  <Form.Item\r\n                    label=\"Room Name\"\r\n                    name=\"name\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Please enter Room Name!\",\r\n                        whitespace: true,\r\n                      },\r\n                    ]}\r\n                    tooltip=\"Board and care room? Use the room number used for licensing.\"\r\n                  >\r\n                    <Input maxLength={255} placeholder=\"Add Name\" />\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Room Type\" name=\"type\">\r\n                    <Select>\r\n                      {roomTypesOptions.map(({ text, value }) => (\r\n                        <Select.Option value={value} key={value}>\r\n                          {\" \"}\r\n                          {text}\r\n                        </Select.Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Size (Sq. Ft.)\" name=\"size\">\r\n                    <InputNumber />\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Base Rate\" name=\"base_rate\">\r\n                    <InputNumber\r\n                      formatter={(value) =>\r\n                        `$ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\r\n                      }\r\n                      parser={(value) => value.replace(/\\$\\s?|(,*)/g, \"\")}\r\n                    />\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Room Care Type\" name=\"room_care_type\">\r\n                    <Select disabled={true}>\r\n                      {roomCareTypesOptions.map(({ text, value }) => (\r\n                        <Select.Option value={value} key={value}>\r\n                          {\" \"}\r\n                          {text}\r\n                        </Select.Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Bathroom Type\" name=\"bathroom_type\">\r\n                    <Select>{bathroomOptions}</Select>\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Financial Type\" name=\"financial_type\">\r\n                    <Select>{financialOptions}</Select>\r\n                  </Form.Item>\r\n                  <Form.Item label=\"Floor Level\" name=\"floor_level\">\r\n                    <Select>{floorLevelOptions}</Select>\r\n                  </Form.Item>\r\n\r\n                  <Form.Item label=\"Non Ambulatory\" name=\"non_ambulatory\">\r\n                    <Switch\r\n                      checkedChildren=\"Yes\"\r\n                      unCheckedChildren=\"No\"\r\n                      checked={non_ambulatory}\r\n                      onChange={(checked) => setNonAmbulatory(checked)}\r\n                    />\r\n                  </Form.Item>\r\n\r\n                  <Form.Item label=\"Room Amenities\" name=\"room_amenities\">\r\n                    <Select mode=\"multiple\">\r\n                      {roomAmenitiesOptions.map(({ text, value }) => (\r\n                        <Select.Option value={value} key={value}>\r\n                          {\" \"}\r\n                          {text}\r\n                        </Select.Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                  {/* <Form.Item label=\"Status\" name=\"status\">\r\n                    <Select>\r\n                      <Select.Option value=\"published\">Published</Select.Option>\r\n                      <Select.Option value=\"draft\">Draft</Select.Option>\r\n                    </Select>\r\n                  </Form.Item> */}\r\n                </Card>\r\n                <Card title={\r\n                  <>\r\n                    Profile Photo{\" \"}\r\n                    <Tooltip title=\"Image ratio should be in 600x400\">\r\n                      <InfoCircleOutlined />\r\n                    </Tooltip>\r\n                  </>\r\n                }>\r\n                  <UploadPhotos\r\n                    multiple={false}\r\n                    photoList={profilePhotoList}\r\n                    handelPhotoListChange={handelProfilePhotoListChange}\r\n                  />\r\n                </Card>\r\n                <Card title={\r\n                  <>\r\n                    Photos{\" \"}\r\n                    <Tooltip title=\"Image ratio should be in 600x400\">\r\n                      <InfoCircleOutlined />\r\n                    </Tooltip>\r\n                  </>\r\n                }>\r\n                  <UploadPhotos\r\n                    multiple\r\n                    photoList={photoList}\r\n                    handelPhotoListChange={handelPhotoListChange}\r\n                  />\r\n                </Card>\r\n                <Card title=\"Floor Plans\">\r\n                  <UploadDocuments\r\n                    documentList={documentList}\r\n                    handelDocumentListChange={handelDocumentListChange}\r\n                  />\r\n                </Card>\r\n                <Form.Item>\r\n                  <Button type=\"primary\" htmlType=\"submit\" loading={buttonLoading}>\r\n                    Save\r\n                  </Button>\r\n                </Form.Item>\r\n              </Form>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      </Skeleton>\r\n    </>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    editRoom: state.room.editRoom,\r\n    editRoomLoading: state.room.editRoomLoading,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    getRoomById: () => dispatch(getRoomById()),\r\n    updateRoom: () => dispatch(updateRoom()),\r\n    cloneRoom: () => dispatch(cloneRoom()),\r\n  };\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(EditRoom);\r\n"]},"metadata":{},"sourceType":"module"}