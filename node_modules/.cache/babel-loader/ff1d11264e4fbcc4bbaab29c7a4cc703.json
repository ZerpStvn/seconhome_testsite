{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\wordpress\\\\dashboard\\\\src\\\\app\\\\pages\\\\admin\\\\partner\\\\communities\\\\list-communities.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { listAll as _listAll, setHomeListLoading as _setHomeListLoading, deleteHome as _deleteHome, cloneHome, updateHome } from \"../../../../redux/actions/home-actions\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { notifyUser } from \"../../../../services/notification-service\";\nimport { List, Divider, Row, Col, Button, Select, Table, Tag, Space, Breadcrumb, Tooltip, Popconfirm, Popover, Form, Input, Skeleton } from \"antd\";\nimport { compose } from \"redux\";\nimport { CopyOutlined, DeleteOutlined, EditOutlined, FilterFilled } from \"@ant-design/icons\";\nimport { data } from \"jquery\";\nimport { licenseStatusValues, homeLicenseVerificationOptions, statusOptions, homeVerificationOptions, homeStatusOptions } from \"../../../../constants/defaultValues\";\nimport { getColumnSearchProps } from \"../../../../helpers/columnSearchProps\";\nimport { humanize } from \"../../../../helpers/string-helper\";\nimport UserService from \"../../../../services/user-service\";\nimport GetClonButtonContent from \"./clone-community\";\n\nvar PartnerListCommunities = function PartnerListCommunities(_ref) {\n  var homeList = _ref.homeList,\n      homeListLoading = _ref.homeListLoading,\n      homeMessage = _ref.homeMessage,\n      homeUpdated = _ref.homeUpdated,\n      homeListMeta = _ref.homeListMeta;\n  var user = UserService.getAdminUser();\n  console.log(user, \"useruseruser\");\n\n  var _useState = useState({\n    pageSize: 15,\n    current: 1\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      pagination = _useState2[0],\n      setPagination = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      sort = _useState4[0],\n      setSort = _useState4[1];\n\n  var _useState5 = useState({\n    user_created: {\n      _eq: user.id\n    }\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      filters = _useState6[0],\n      setFilters = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    (loading || homeListLoading) && dispatch(_listAll({\n      filter: filters,\n      sort: sort,\n      page: pagination.current,\n      limit: pagination.pageSize,\n      meta: \"*\"\n    }));\n    homeListMeta && setPagination(_objectSpread({}, pagination, {\n      total: homeListMeta.filter_count\n    }));\n\n    if (homeUpdated) {\n      notifyUser(homeMessage, \"success\");\n    }\n\n    setLoading(homeListLoading);\n    return function () {\n      console.log(\"Communities Unmounting\");\n    };\n  }, [homeUpdated, homeMessage, homeListLoading]);\n\n  var handelTableChange = function handelTableChange(_ref2, tableFilters, sorter) {\n    var current = _ref2.current;\n\n    if (sorter && sorter.field) {\n      if (sorter.order == \"ascend\") {\n        setSort(sorter.field);\n      } else {\n        setSort(\"-\" + sorter.field);\n      }\n    }\n\n    var _filters = {\n      user_created: {\n        _eq: user.id\n      }\n    };\n    Object.entries(tableFilters).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      var orFilter = [];\n\n      if (value) {\n        switch (key) {\n          case \"name\":\n            orFilter = [];\n            value.map(function (data) {\n              orFilter.push({\n                name: {\n                  _contains: data\n                }\n              });\n            });\n            _filters._or = orFilter;\n            break;\n\n          case \"address_line_1\":\n            orFilter = [];\n            value.map(function (data) {\n              orFilter.push({\n                address_line_1: {\n                  _contains: data\n                }\n              });\n            });\n            _filters._or = orFilter;\n            break;\n\n          case \"city\":\n            orFilter = [];\n            value.map(function (data) {\n              orFilter.push({\n                city: {\n                  _contains: data\n                }\n              });\n            });\n            _filters._or = orFilter;\n            break;\n\n          case \"state\":\n            orFilter = [];\n            value.map(function (data) {\n              orFilter.push({\n                state: {\n                  _contains: data\n                }\n              });\n            });\n            _filters._or = orFilter;\n            break;\n\n          case \"status\":\n            _filters.status = {\n              _in: value\n            };\n            break;\n\n          default:\n            _filters[key] = {\n              _in: value\n            };\n            break;\n        }\n      } else {}\n    });\n    setFilters(_objectSpread({}, _filters));\n    setPagination(_objectSpread({}, pagination, {\n      current: current\n    }));\n    dispatch(_setHomeListLoading(true));\n  };\n\n  var handelOnDelete = function handelOnDelete(id) {\n    setLoading(true);\n    dispatch(_deleteHome(id));\n  };\n\n  var statusHandle = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(home, value) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return dispatch(updateHome(home.key, {\n                status: value\n              }));\n\n            case 3:\n              response = _context.sent;\n              // console.log(response);\n              notifyUser(\"Details have been saved\", \"success\");\n              setLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function statusHandle(_x, _x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var verificationStatusHandle = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(home, value) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setLoading(true);\n              _context2.next = 3;\n              return dispatch(updateHome(home.key, {\n                verification: value\n              }));\n\n            case 3:\n              response = _context2.sent;\n              // console.log(response);\n              notifyUser(\"Details have been saved\", \"success\");\n              setLoading(false);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function verificationStatusHandle(_x3, _x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var columns = [{\n    title: \"Name\",\n    dataIndex: \"name\",\n    key: \"name\",\n    //sorter: true,\n    sortDirections: [\"ascend\", \"descend\", \"ascend\"],\n    //...getColumnSearchProps(\"name\"),\n    render: function render(text, home) {\n      return /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"cap-letter\",\n        to: \"/admin/partners/communities/\".concat(home.key),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, text));\n    }\n  }, {\n    title: \"Address\",\n    dataIndex: \"address_line_1\",\n    key: \"address_line_1\",\n    //sorter: true,\n    sortDirections: [\"ascend\", \"descend\", \"ascend\"] //...getColumnSearchProps(\"address_line_1\"),\n\n  }, {\n    title: \"City\",\n    dataIndex: \"city\",\n    key: \"city\",\n    //sorter: true,\n    sortDirections: [\"ascend\", \"descend\", \"ascend\"] //...getColumnSearchProps(\"city\"),\n\n  }, // {\n  //     title: \"State\",\n  //     dataIndex: \"state\",\n  //     key: \"state\",\n  //     sorter: true,\n  //     sortDirections: [\"ascend\", \"descend\", \"ascend\"],\n  //     ...getColumnSearchProps(\"state\"),\n  // },\n  {\n    title: \"Status\",\n    dataIndex: \"status\",\n    key: \"status\",\n    //filters: statusOptions,\n    filterIcon: /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"Filter\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FilterFilled, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    })),\n    //sorter: true,\n    sortDirections: [\"ascend\", \"descend\", \"ascend\"],\n    render: function render(text, home) {\n      return /*#__PURE__*/React.createElement(Select, {\n        style: {\n          width: \"130px\"\n        },\n        defaultValue: text,\n        onChange: function onChange(text) {\n          return statusHandle(home, text);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }\n      }, homeStatusOptions.map(function (option) {\n        return /*#__PURE__*/React.createElement(Select.Option, {\n          value: option.value,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 29\n          }\n        }, option.text);\n      })) // <Space size=\"middle\">{text && humanize(text)}</Space>\n      ;\n    }\n  }, {\n    title: \"Verification\",\n    dataIndex: \"verification\",\n    key: \"verification\",\n    //filters: homeVerificationOptions,\n    filterIcon: /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"Filter\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FilterFilled, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }\n    })),\n    //sorter: true,\n    sortDirections: [\"ascend\", \"descend\", \"ascend\"],\n    render: function render(text, home) {\n      return /*#__PURE__*/React.createElement(Select, {\n        style: {\n          width: \"130px\"\n        },\n        defaultValue: text,\n        onChange: function onChange(text) {\n          return verificationStatusHandle(home, text);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 17\n        }\n      }, homeLicenseVerificationOptions.map(function (option) {\n        return /*#__PURE__*/React.createElement(Select.Option, {\n          value: option.value,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 29\n          }\n        }, option.text);\n      })) // <Space size=\"middle\">{text && humanize(text)}</Space>\n      ;\n    }\n  }, {\n    title: \"Action\",\n    key: \"action\",\n    render: function render(text, home) {\n      return /*#__PURE__*/React.createElement(Space, {\n        size: \"middle\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Edit\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/admin/partners/communities/\".concat(home.key),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(EditOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 29\n        }\n      }))), /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Delete\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Popconfirm, {\n        title: \"Are you sure want to delete?\",\n        onConfirm: function onConfirm() {\n          handelOnDelete(home.key);\n        },\n        okText: \"Yes\",\n        cancelText: \"No\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        onClick: function onClick() {},\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(DeleteOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 33\n        }\n      })))), /*#__PURE__*/React.createElement(Tooltip, {\n        title: \"Clone\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Popover, {\n        title: \"Clone Community\",\n        trigger: \"click\",\n        content: /*#__PURE__*/React.createElement(GetClonButtonContent, {\n          id: home.key,\n          user: user,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 38\n          }\n        }),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        onClick: function onClick() {},\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(CopyOutlined, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 33\n        }\n      })))));\n    }\n  }];\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    className: \"content-header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 20,\n    xl: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 42\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 42\n    }\n  }, \"Partners\")), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partner/overview\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 42\n    }\n  }, humanize(user.first_name), \" \", humanize(user.last_name))), /*#__PURE__*/React.createElement(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/partners/communities\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 42\n    }\n  }, \"Communities\")))), /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 4,\n    xl: 4,\n    className: \"text-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    href: \"/dashboard/admin/partners/communities/add\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 21\n    }\n  }, \"Add Community\"))), /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xs: 24,\n    sm: 24,\n    md: 24,\n    lg: 24,\n    xl: 24,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    columns: columns,\n    loading: loading,\n    dataSource: homeList.map(function (_ref7) {\n      var name = _ref7.name,\n          address_line_1 = _ref7.address_line_1,\n          address_line_2 = _ref7.address_line_2,\n          city = _ref7.city,\n          state = _ref7.state,\n          zip = _ref7.zip,\n          license_status = _ref7.license_status,\n          id = _ref7.id,\n          verification = _ref7.verification,\n          status = _ref7.status;\n      return {\n        name: name,\n        address_line_1: address_line_1,\n        license_status: licenseStatusValues[license_status],\n        key: id,\n        city: city,\n        status: status,\n        verification: verification\n      };\n    }),\n    pagination: pagination,\n    onChange: handelTableChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 21\n    }\n  }))));\n};\n\nfunction mapStateToProps(state) {\n  return {\n    homeList: state.home.homeList,\n    homeListLoading: state.home.homeListLoading,\n    homeListMeta: state.home.homeListMeta\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    listAll: function listAll() {\n      return dispatch(_listAll());\n    },\n    setHomeListLoading: function setHomeListLoading() {\n      return dispatch(_setHomeListLoading());\n    },\n    deleteHome: function deleteHome() {\n      return dispatch(_deleteHome());\n    }\n  };\n}\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(PartnerListCommunities);","map":{"version":3,"sources":["C:/xampp/htdocs/wordpress/dashboard/src/app/pages/admin/partner/communities/list-communities.js"],"names":["React","useEffect","useState","connect","listAll","setHomeListLoading","deleteHome","cloneHome","updateHome","useDispatch","Link","notifyUser","List","Divider","Row","Col","Button","Select","Table","Tag","Space","Breadcrumb","Tooltip","Popconfirm","Popover","Form","Input","Skeleton","compose","CopyOutlined","DeleteOutlined","EditOutlined","FilterFilled","data","licenseStatusValues","homeLicenseVerificationOptions","statusOptions","homeVerificationOptions","homeStatusOptions","getColumnSearchProps","humanize","UserService","GetClonButtonContent","PartnerListCommunities","homeList","homeListLoading","homeMessage","homeUpdated","homeListMeta","user","getAdminUser","console","log","pageSize","current","pagination","setPagination","sort","setSort","user_created","_eq","id","filters","setFilters","loading","setLoading","dispatch","filter","page","limit","meta","total","filter_count","handelTableChange","tableFilters","sorter","field","order","_filters","Object","entries","forEach","key","value","orFilter","map","push","name","_contains","_or","address_line_1","city","state","status","_in","handelOnDelete","statusHandle","home","response","verificationStatusHandle","verification","columns","title","dataIndex","sortDirections","render","text","filterIcon","width","option","first_name","last_name","address_line_2","zip","license_status","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { listAll, setHomeListLoading, deleteHome, cloneHome, updateHome } from \"../../../../redux/actions/home-actions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { notifyUser } from \"../../../../services/notification-service\";\r\nimport { List, Divider, Row, Col, Button, Select, Table, Tag, Space, Breadcrumb, Tooltip, Popconfirm, Popover, Form, Input, Skeleton } from \"antd\";\r\nimport { compose } from \"redux\";\r\nimport { CopyOutlined, DeleteOutlined, EditOutlined, FilterFilled } from \"@ant-design/icons\";\r\nimport { data } from \"jquery\";\r\nimport { licenseStatusValues, homeLicenseVerificationOptions, statusOptions, homeVerificationOptions, homeStatusOptions } from \"../../../../constants/defaultValues\";\r\nimport { getColumnSearchProps } from \"../../../../helpers/columnSearchProps\";\r\nimport { humanize } from \"../../../../helpers/string-helper\";\r\nimport UserService from \"../../../../services/user-service\";\r\nimport GetClonButtonContent from \"./clone-community\";\r\n\r\nconst PartnerListCommunities = ({ homeList, homeListLoading, homeMessage, homeUpdated, homeListMeta, }) => {\r\n    const user = UserService.getAdminUser();\r\n    console.log(user, \"useruseruser\");\r\n    const [pagination, setPagination] = useState({\r\n        pageSize: 15,\r\n        current: 1,\r\n    });\r\n    const [sort, setSort] = useState([]);\r\n    const [filters, setFilters] = useState({ user_created: { _eq: user.id } });\r\n    const [loading, setLoading] = useState(true);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        (loading || homeListLoading) &&\r\n            dispatch(\r\n                listAll({\r\n                    filter: filters,\r\n                    sort,\r\n                    page: pagination.current,\r\n                    limit: pagination.pageSize,\r\n                    meta: \"*\",\r\n                })\r\n            );\r\n        homeListMeta &&\r\n            setPagination({ ...pagination, total: homeListMeta.filter_count });\r\n        if (homeUpdated) {\r\n            notifyUser(homeMessage, \"success\");\r\n        }\r\n        setLoading(homeListLoading);\r\n        return () => {\r\n            console.log(\"Communities Unmounting\");\r\n        };\r\n    }, [homeUpdated, homeMessage, homeListLoading]);\r\n\r\n    const handelTableChange = ({ current }, tableFilters, sorter) => {\r\n        if (sorter && sorter.field) {\r\n            if (sorter.order == \"ascend\") {\r\n                setSort(sorter.field);\r\n            } else {\r\n                setSort(\"-\" + sorter.field);\r\n            }\r\n        }\r\n\r\n        let _filters = { user_created: { _eq: user.id } };\r\n\r\n        Object.entries(tableFilters).forEach(([key, value]) => {\r\n            let orFilter = [];\r\n            if (value) {\r\n                switch (key) {\r\n                    case \"name\":\r\n                        orFilter = [];\r\n                        value.map((data) => {\r\n                            orFilter.push({ name: { _contains: data } });\r\n                        });\r\n                        _filters._or = orFilter;\r\n                        break;\r\n                    case \"address_line_1\":\r\n                        orFilter = [];\r\n                        value.map((data) => {\r\n                            orFilter.push({ address_line_1: { _contains: data } });\r\n                        });\r\n                        _filters._or = orFilter;\r\n                        break;\r\n                    case \"city\":\r\n                        orFilter = [];\r\n                        value.map((data) => {\r\n                            orFilter.push({ city: { _contains: data } });\r\n                        });\r\n                        _filters._or = orFilter;\r\n                        break;\r\n                    case \"state\":\r\n                        orFilter = [];\r\n                        value.map((data) => {\r\n                            orFilter.push({ state: { _contains: data } });\r\n                        });\r\n                        _filters._or = orFilter;\r\n                        break;\r\n                    case \"status\":\r\n                        _filters.status = { _in: value };\r\n                        break;\r\n\r\n                    default:\r\n                        _filters[key] = { _in: value };\r\n                        break;\r\n                }\r\n            } else {\r\n            }\r\n        });\r\n        setFilters({ ..._filters });\r\n        setPagination({ ...pagination, current });\r\n        dispatch(setHomeListLoading(true));\r\n    };\r\n\r\n    const handelOnDelete = (id) => {\r\n        setLoading(true);\r\n        dispatch(deleteHome(id));\r\n    };\r\n\r\n\r\n    const statusHandle = async (home, value) => {\r\n        setLoading(true)\r\n        const response = await dispatch(updateHome(home.key, { status: value, }))\r\n        // console.log(response);\r\n        notifyUser(\"Details have been saved\", \"success\")\r\n        setLoading(false)\r\n    }\r\n    const verificationStatusHandle = async (home, value) => {\r\n        setLoading(true)\r\n        const response = await dispatch(updateHome(home.key, { verification: value, }))\r\n        // console.log(response);\r\n        notifyUser(\"Details have been saved\", \"success\")\r\n        setLoading(false)\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: \"Name\",\r\n            dataIndex: \"name\",\r\n            key: \"name\",\r\n            //sorter: true,\r\n            sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n            //...getColumnSearchProps(\"name\"),\r\n            render: (text, home) => (\r\n                <Space size=\"middle\">\r\n                    <Link className=\"cap-letter\" to={`/admin/partners/communities/${home.key}`}>{text}</Link>\r\n                </Space>\r\n            ),\r\n        },\r\n\r\n        {\r\n            title: \"Address\",\r\n            dataIndex: \"address_line_1\",\r\n            key: \"address_line_1\",\r\n            //sorter: true,\r\n            sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n            //...getColumnSearchProps(\"address_line_1\"),\r\n        },\r\n        {\r\n            title: \"City\",\r\n            dataIndex: \"city\",\r\n            key: \"city\",\r\n            //sorter: true,\r\n            sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n            //...getColumnSearchProps(\"city\"),\r\n        },\r\n        // {\r\n        //     title: \"State\",\r\n        //     dataIndex: \"state\",\r\n        //     key: \"state\",\r\n        //     sorter: true,\r\n        //     sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n        //     ...getColumnSearchProps(\"state\"),\r\n        // },\r\n        {\r\n            title: \"Status\",\r\n            dataIndex: \"status\",\r\n            key: \"status\",\r\n            //filters: statusOptions,\r\n            filterIcon: (\r\n                <Tooltip title=\"Filter\">\r\n                    <FilterFilled />\r\n                </Tooltip>\r\n            ),\r\n            //sorter: true,\r\n            sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n            render: (text, home) => (\r\n                <Select\r\n                    style={{ width: \"130px\" }}\r\n                    defaultValue={text}\r\n                    onChange={(text) => statusHandle(home, text)}\r\n                >\r\n                    {/* <Select.Option value={\"option.value\"}>{\"option.text\"}</Select.Option> */}\r\n                    {homeStatusOptions.map((option) => {\r\n                        return (\r\n                            <Select.Option value={option.value}>{option.text}</Select.Option>\r\n                        );\r\n                    })}\r\n                </Select>\r\n                // <Space size=\"middle\">{text && humanize(text)}</Space>\r\n            ),\r\n        },\r\n        {\r\n            title: \"Verification\",\r\n            dataIndex: \"verification\",\r\n            key: \"verification\",\r\n            //filters: homeVerificationOptions,\r\n            filterIcon: (\r\n                <Tooltip title=\"Filter\">\r\n                    <FilterFilled />\r\n                </Tooltip>\r\n            ),\r\n            //sorter: true,\r\n            sortDirections: [\"ascend\", \"descend\", \"ascend\"],\r\n            render: (text, home) => (\r\n                <Select\r\n                    style={{ width: \"130px\" }}\r\n                    defaultValue={text}\r\n                    onChange={(text) => verificationStatusHandle(home, text)}\r\n                >\r\n                    {/* <Select.Option value={\"option.value\"}>{\"option.text\"}</Select.Option> */}\r\n                    {homeLicenseVerificationOptions.map((option) => {\r\n                        return (\r\n                            <Select.Option value={option.value}>{option.text}</Select.Option>\r\n                        );\r\n                    })}\r\n                </Select>\r\n                // <Space size=\"middle\">{text && humanize(text)}</Space>\r\n            ),\r\n        },\r\n\r\n        {\r\n            title: \"Action\",\r\n            key: \"action\",\r\n            render: (text, home) => (\r\n                <Space size=\"middle\">\r\n                    <Tooltip title=\"Edit\">\r\n                        <Link to={`/admin/partners/communities/${home.key}`}>\r\n                            <EditOutlined />\r\n                        </Link>\r\n                    </Tooltip>\r\n                    <Tooltip title=\"Delete\">\r\n                        <Popconfirm\r\n                            title=\"Are you sure want to delete?\"\r\n                            onConfirm={() => {\r\n                                handelOnDelete(home.key);\r\n                            }}\r\n                            okText=\"Yes\"\r\n                            cancelText=\"No\"\r\n                        >\r\n                            <Link onClick={() => { }}>\r\n                                <DeleteOutlined />\r\n                            </Link>\r\n                        </Popconfirm>\r\n                    </Tooltip>\r\n                    <Tooltip title=\"Clone\">\r\n                        <Popover\r\n                            title=\"Clone Community\"\r\n                            trigger=\"click\"\r\n                            content={<GetClonButtonContent id={home.key} user={user} />}\r\n                        >\r\n                            <Link onClick={() => { }}>\r\n                                <CopyOutlined />\r\n                            </Link>\r\n                        </Popover>\r\n                    </Tooltip>\r\n                </Space>\r\n            ),\r\n        },\r\n    ];\r\n\r\n\r\n    return (\r\n        <>\r\n            <Row gutter={30} className=\"content-header\">\r\n                <Col xs={24} sm={24} md={24} lg={20} xl={20}>\r\n                    <Breadcrumb>\r\n                        <Breadcrumb.Item><Link to=\"/admin\">Home</Link></Breadcrumb.Item>\r\n                        <Breadcrumb.Item><Link to=\"/admin/partners\">Partners</Link></Breadcrumb.Item>\r\n                        <Breadcrumb.Item><Link to=\"/admin/partner/overview\">{humanize(user.first_name)} {humanize(user.last_name)}</Link></Breadcrumb.Item>\r\n                        <Breadcrumb.Item><Link to=\"/admin/partners/communities\">Communities</Link></Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                </Col>\r\n                <Col xs={24} sm={24} md={24} lg={4} xl={4} className=\"text-right\">\r\n                    <Button href={\"/dashboard/admin/partners/communities/add\"}>Add Community</Button>\r\n                </Col>\r\n            </Row>\r\n            <Row gutter={30}>\r\n                <Col xs={24} sm={24} md={24} lg={24} xl={24}>\r\n                    <Table\r\n                        columns={columns}\r\n                        loading={loading}\r\n                        dataSource={homeList.map(\r\n                            ({\r\n                                name,\r\n                                address_line_1,\r\n                                address_line_2,\r\n                                city,\r\n                                state,\r\n                                zip,\r\n                                license_status,\r\n                                id,\r\n                                verification,\r\n                                status\r\n                            }) => {\r\n                                return {\r\n                                    name,\r\n                                    address_line_1,\r\n                                    license_status: licenseStatusValues[license_status],\r\n                                    key: id,\r\n                                    city,\r\n                                    status,\r\n                                    verification,\r\n                                };\r\n                            }\r\n                        )}\r\n                        pagination={pagination}\r\n                        onChange={handelTableChange}\r\n                    />\r\n                </Col>\r\n            </Row>\r\n        </>\r\n    );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        homeList: state.home.homeList,\r\n        homeListLoading: state.home.homeListLoading,\r\n        homeListMeta: state.home.homeListMeta,\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        listAll: () => dispatch(listAll()),\r\n        setHomeListLoading: () => dispatch(setHomeListLoading()),\r\n        deleteHome: () => dispatch(deleteHome()),\r\n    };\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(\r\n    PartnerListCommunities\r\n);\r\n"]},"metadata":{},"sourceType":"module"}